<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>GoBase | 逍遥码斋</title><noscript>开启JavaScript才能访问本站哦~</noscript><link rel="icon" href="/img/first/my.jpg"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=1.7.12"><!-- inject head--><link rel="stylesheet" href="https://cdn2.codesign.qq.com/icons/7pOrz0WXB5ZWJPX/latest/iconfont.css"><!-- aplayer--><link rel="stylesheet" href="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.css"><!-- swiper--><link rel="stylesheet" href="https://cdn.staticfile.net/Swiper/11.0.5/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.staticfile.net/fancyapps-ui/5.0.35/fancybox/fancybox.min.css"><link rel="stylesheet" href="https://cdn.staticfile.net/KaTeX/0.16.9/katex.min.css"><!-- Open Graph--><meta name="description" content="安装环境特性Go基础变量变量是数据地址的名字，变量可以在程序中修改其值。用于数据变化 变量名不能包含空格，不能使用关键字（如if）， 分为全局变量和局部变量 默认值：  整型：0 浮点型：0.0 布尔：false 字符串：空字符串 指针型：nil  作用域变量有其生效的区域，这个区域，我们称之为作用域。  函数内部声明的变量，为局部变量，作用域仅限于函数内部 函数外部声明的变量，为全局变量，作用域">
<meta property="og:type" content="article">
<meta property="og:title" content="GoBase">
<meta property="og:url" content="https://codegodliu.github.io/2024/04/20/Go/GoBase/index.html">
<meta property="og:site_name" content="逍遥码斋">
<meta property="og:description" content="安装环境特性Go基础变量变量是数据地址的名字，变量可以在程序中修改其值。用于数据变化 变量名不能包含空格，不能使用关键字（如if）， 分为全局变量和局部变量 默认值：  整型：0 浮点型：0.0 布尔：false 字符串：空字符串 指针型：nil  作用域变量有其生效的区域，这个区域，我们称之为作用域。  函数内部声明的变量，为局部变量，作用域仅限于函数内部 函数外部声明的变量，为全局变量，作用域">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://codegodliu.github.io/img/Go/go.webp">
<meta property="article:published_time" content="2024-04-19T17:35:07.000Z">
<meta property="article:modified_time" content="2024-06-01T15:30:34.634Z">
<meta property="article:author" content="masterliu">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://codegodliu.github.io/img/Go/go.webp"><!-- pwa--><script>(win => {
        win.saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay,
                }
                localStorage.setItem(key, JSON.stringify(item))
            },

            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        }

        const DarkModeStatus = localStorage.getItem('theme')
        if (DarkModeStatus !== null) {
            if (DarkModeStatus === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark')
            } else {
                document.documentElement.setAttribute('data-theme', 'light')
            }
        }

        const asideStatus = saveToLocal.get('aside-status')
        if (asideStatus !== undefined) {
            if (asideStatus === 'hide') {
                document.documentElement.classList.add('hide-aside')
            } else {
                document.documentElement.classList.remove('hide-aside')
            }
        }

        win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
            const link = document.createElement('link')
            link.rel = 'stylesheet'
            link.href = url
            if (id) link.id = id
            link.onerror = reject
            link.onload = link.onreadystatechange = function () {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
            }
            document.head.appendChild(link)
        })

        win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
            const script = document.createElement('script')
            script.src = url
            script.async = true
            script.onerror = reject
            script.onload = script.onreadystatechange = function () {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
            }

            Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
            })

            document.head.appendChild(script)
        })
    }
)(window)

console.log(
    "%c Program: Hexo %c Theme: Solitude %c Version: v1.7.12",
    "border-radius:5px 0 0 5px;padding: 5px 10px;color:white;background:#ff3842;",
    "padding: 5px 10px;color:white;background:#3e9f50;",
    "border-radius:0 5px 5px 0;padding: 5px 10px;background:#0084ff;color:white;"
);</script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3I4rPmjJIMllR8AC",ck:"3I4rPmjJIMllR8AC"})</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: {"preload":false,"path":"/search.xml"},
    runtime: '2024-04-10 00:00:00',
    lazyload: {
        enable: true,
        error: '/img/error_load.png'
    },
    copyright: {"limit":50,"author":"作者: masterliu","link":"链接: ","source":"来源: 逍遥码斋","info":"著作权归作者所有。 商业转载请联系作者获得授权，非商业转载请注明出处。"},
    highlight: {
        enable: true,
        limit: 200,
        expand: true,
        copy: true,
        syntax: 'highlight.js'
    },
    randomlink: false,
    lang: {"theme":{"dark":"已切换至深色模式","light":"已切换至浅色模式"},"copy":{"success":"复制成功","error":"复制失败"},"backtop":"返回顶部","time":{"day":"天前","hour":"小时前","just":"刚刚","min":"分钟前","month":"个月前"},"f12":"开发者模式已打开，请遵循GPL协议。","totalk":"无需删除空行，直接输入评论即可","search":{"empty":"找不到你查询的内容：${query}","hit":"找到 ${hits} 条结果，用时 ${time} 毫秒","placeholder":"输入关键词快速查找","count":"共 <b>${count}</b> 条结果。"},"barrage":{"title":"热评"}},
    aside: {
        sayhello: {
            morning: '一日之计在于晨',
            noon: '吃饱了才有力气干活',
            afternoon: '集中精力，攻克难关',
            night: '不要太劳累了，早睡更健康',
            goodnight: '睡个好觉，保证精力充沛',
        },
        sayhello2: ["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多","🎮 电竞游戏爱好者"],
    },
    covercolor: {
        enable: false
    },
    comment: {"avatar":"https://cravatar.cn","url":"https://538lgvvo.lc-cn-n1-shared.com","commentBarrage":true,"appId":"538lgvVOGkxySYOQ95RVcOTL-gzGzoHsz","appKey":"59YMWbtxZDc7jcwmXLb14qUU","owo":{"body":".vwrap","item":".vemojis i"}},
    lightbox: 'mediumZoom',
    post_ai: false,
    right_menu: {"mode":{"dark":"深色模式","light":"浅色模式"},"img_error":"此图片无法复制与下载","music":{"start":"播放音乐","stop":"暂停音乐"},"barrage":{"open":"显示热评","close":"关闭热评"},"translate":{"translateDelay":0,"defaultEncoding":2}},
};</script><meta name="generator" content="Hexo 7.1.1"></head><body id="body"><!-- universe--><canvas id="universe"></canvas><!-- loading--><div id="loading-box" onclick="preloader.endLoading();" style="zoom:1"><div class="loading-bg"><img class="loading-img nolazyload" src="/img/first/my.jpg" alt="loading image"></div></div><script>const preloader = {
    endLoading: () => {
        document.getElementById('loading-box').classList.toggle('loaded');
    },
    initLoading: () => {
        document.getElementById('loading-box').classList.remove('loaded');
    },
    removePaceDone: () => {
        document.getElementById('body').classList = 'pace-done';
    }
}
window.addEventListener('load', () => {
    preloader.endLoading();
});
window.addEventListener('pjax:send', () => {
    preloader.initLoading();
});
document.addEventListener('pjax:complete', () => {
    preloader.endLoading();
});</script><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="solitude st-close-fill"></i></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">互动</div><div class="author-content-item-title">最新评论</div></div><div class="aside-list"></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">标签</div><div class="author-content-item-title">寻找感兴趣的领域</div></div><div class="card-tag-cloud"><a href="/tags/C/">C++<sup>3</sup></a><a href="/tags/Go/">Go<sup>1</sup></a><a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/">构建工具<sup>1</sup></a></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/08/')" href="javascript:void(0);"><span class="card-archive-list-date">2024/08</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/06/')" href="javascript:void(0);"><span class="card-archive-list-date">2024/06</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/05/')" href="javascript:void(0);"><span class="card-archive-list-date">2024/05</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/04/')" href="javascript:void(0);"><span class="card-archive-list-date">2024/04</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span class="card-archive-list-count-unit">篇</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="昼夜切换"><i class="solitude st-moon-clear-fill"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="边栏显示控制"><i class="solitude st-side-bar-fill"></i></span></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><span class="music-switch" title="音乐开关"><i class="solitude st-disc-fill"></i></span></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="sco.switchCommentBarrage()"><span class="commentBarrage"><i class="solitude st-chat-fill"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div></div></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span>显示模式</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">目录</div><div class="back-menu-list"><a class="back-menu-item" href="/categories/C" title="C++"><img class="nolazyload back-menu-item-icon" src="/img/C++八股文/log.jpg" alt="C++"><span class="back-menu-item-text">C++</span></a><a class="back-menu-item" href="/categories/Go" title="Go"><img class="nolazyload back-menu-item-icon" src="/img/Go/log.png" alt="Go"><span class="back-menu-item-text">Go</span></a><a class="back-menu-item" href="/categories/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7" title="构建工具"><img class="nolazyload back-menu-item-icon" src="/img/CMake/CMake.jpg" alt="构建工具"><span class="back-menu-item-text">构建工具</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/tlink/"><i class="solitude  st-tools-fill"></i><span>工具箱</span></a></li><li><a class="site-page child" href="/music/"><i class="solitude  st-disc-fill"></i><span>音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude  st-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/C/">C++<sup>3</sup></a><a href="/tags/Go/">Go<sup>1</sup></a><a href="/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/">构建工具<sup>1</sup></a></div></div></div></div><!-- keyboard--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon solitude st-more-fill"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">目录</div><div class="back-menu-list"><a class="back-menu-item" href="/categories/C" title="C++"><img class="nolazyload back-menu-item-icon" src="/img/C++八股文/log.jpg" alt="C++"><span class="back-menu-item-text">C++</span></a><a class="back-menu-item" href="/categories/Go" title="Go"><img class="nolazyload back-menu-item-icon" src="/img/Go/log.png" alt="Go"><span class="back-menu-item-text">Go</span></a><a class="back-menu-item" href="/categories/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7" title="构建工具"><img class="nolazyload back-menu-item-icon" src="/img/CMake/CMake.jpg" alt="构建工具"><span class="back-menu-item-text">构建工具</span></a></div></div></div></div><a id="site-name" href="/" title="返回博客主页"><span class="title">逍遥码斋</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">GoBase</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/tlink/"><i class="solitude  st-tools-fill"></i><span>工具箱</span></a></li><li><a class="site-page child" href="/music/"><i class="solitude  st-disc-fill"></i><span>音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude  st-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="travellings_button"><a class="site-page" target="_blank" rel="noopener" href="https://leetcode.cn/" title=""><i class="solitude st-train-line"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机一篇文章" href="javascript:void(0);"><i class="solitude st-signal-tower-fill"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索"><i class="solitude st-search-line"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="中控台" href="javascript:void(0);"><i class="solitude st-dashboard-fill"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude st-arrow-up-line"></i><span id="percent">0</span></a></div><script>document.addEventListener('DOMContentLoaded', () => {
    const percent = () => {
        let scrollTop = document.documentElement.scrollTop || window.pageYOffset
        let totalHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) - document.documentElement.clientHeight
        let scrollPercent = Math.round(scrollTop / totalHeight * 100)
        let percentElement = document.querySelector("#percent")
        let viewportBottom = window.scrollY + document.documentElement.clientHeight
        let remainingScroll = totalHeight - scrollTop

        if ((document.getElementById("post-comment") || document.getElementById("footer")).offsetTop < viewportBottom || scrollPercent > 90) {
            document.querySelector("#nav-totop").classList.add("long")
            percentElement.innerHTML = GLOBAL_CONFIG.lang.backtop
        } else {
            document.querySelector("#nav-totop").classList.remove("long")
            if (scrollPercent >= 0) {
                percentElement.innerHTML = scrollPercent + ""
            }
        }

        let elementsToHide = document.querySelectorAll(".needEndHide")
        if (remainingScroll < 100) {
            elementsToHide.forEach(function (element) {
                element.classList.add("hide")
            })
        } else {
            elementsToHide.forEach(function (element) {
                element.classList.remove("hide")
            })
        }

        window.onscroll = percent
    }
    percent()
})</script><div id="toggle-menu"><a class="site-page"><i class="solitude st-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="/img/Go/go.webp" alt="GoBase"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="该文章为原创文章，注意版权协议">原创</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/Go/">Go</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Go/"><span class="tags-name tags-punctuation">Go</span></a></div></div></div></div><h1 class="post-title">GoBase</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="发布于 2024-04-20 01:35:07"><i class="post-meta-icon solitude st-calendar-todo-fill"></i><time datetime="2024-04-19T17:35:07.000Z">2024-04-19T17:35:07.000Z</time></span><span class="post-meta-date" title="最后更新于 2024-06-01 23:30:34"><i class="post-meta-icon solitude st-refresh-line"></i><time datetime="2024-06-01T15:30:34.634Z">2024-06-01T15:30:34.634Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon solitude st-word-fill" title="文章字数"></i><span class="word-count">14.1k</span><span class="post-meta-separator"></span><i class="post-meta-icon solitude st-clock-fill" title="阅读耗时"></i><span>62 min</span></span><span class="post-meta-position" title="作者IP归属地为武汉"><i class="post-meta-icon solitude st-map-pin-fill"></i><span>武汉</span></span><a class="post-meta-pv" href="/2024/04/20/Go/GoBase/" title="文章热度"><i class="post-meta-icon solitude st-fire-fill"></i><span class="leancloud_visitors" id="/2024/04/20/Go/GoBase/"><span class="leancloud-visitors-count"><i class="solitude st-loading-line"></i></span></span></a><span class="post-meta-commentcount" title="评论数" onclick="sco.scrollTo('post-comment')"><i class="solitude st-chat-fill"></i><a href="/2024/04/20/Go/GoBase/#post-comment"><span class="valine-comment-count" data-xid="/2024/04/20/Go/GoBase/" itemprop="commentCount"><i class="solitude st-loading-line"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h1><h1 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h1><h1 id="Go基础"><a href="#Go基础" class="headerlink" title="Go基础"></a>Go基础</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量是数据地址的名字，变量可以在程序中修改其值。用于数据变化</p>
<p>变量名不能包含空格，不能使用关键字（如if），</p>
<p>分为全局变量和局部变量</p>
<p>默认值：</p>
<ul>
<li>整型：0</li>
<li>浮点型：0.0</li>
<li>布尔：false</li>
<li>字符串：空字符串</li>
<li>指针型：nil</li>
</ul>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>变量有其生效的区域，这个区域，我们称之为<code>作用域</code>。</p>
<ul>
<li>函数内部声明的变量，为<code>局部变量</code>，作用域仅限于函数内部</li>
<li>函数外部声明的变量，为<code>全局变量</code>，作用域在当前包有效，如果首字母大写，在所有包有效</li>
<li><code>&#123;&#125;</code>包括的区域，称之为代码块，如果变量定义在<code>&#123;&#125;</code>内部，只在代码块内有效</li>
</ul>
<h3 id="声明定义变量"><a href="#声明定义变量" class="headerlink" title="声明定义变量"></a>声明定义变量</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//第一种：指定变量类型，声明后若不赋值，使用默认值</span></span><br><span class="line">    <span class="comment">//int 的默认值是0</span></span><br><span class="line">    <span class="keyword">var</span> a <span class="type">int</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;a=&quot;</span>, a)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第二种：根据值自行判定变量类型(类型推导)</span></span><br><span class="line">    <span class="keyword">var</span> b= <span class="number">10.11</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;b=&quot;</span>, b)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第三种：省略var，注意:=左侧的变量不应该是已经声明过的，否则会导致编译错误</span></span><br><span class="line">    <span class="comment">//下面的方式等价var num string name = &quot;tom&quot;</span></span><br><span class="line">    <span class="comment">//:=的:不能省略，否则错误</span></span><br><span class="line">    c := <span class="string">&quot;tom&quot;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;c=&quot;</span>, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="批量定义变量"><a href="#批量定义变量" class="headerlink" title="批量定义变量"></a>批量定义变量</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//一次性声明多个变量</span></span><br><span class="line">    <span class="keyword">var</span> n1, n2, n3 <span class="type">int</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;n1=&quot;</span>, n1, <span class="string">&quot;n2=&quot;</span>, n2, <span class="string">&quot;n3=&quot;</span>, n3)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//一次性声明多个变量的方式2</span></span><br><span class="line">    <span class="keyword">var</span> t1, t2, t3 = <span class="number">100</span>, <span class="string">&quot;tom&quot;</span>, <span class="number">888</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;t1=&quot;</span>, t1, <span class="string">&quot;t2=&quot;</span>, t2, <span class="string">&quot;t3=&quot;</span>, t3)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//一次性声明多个变量的方式3，同样可以使用类型推导</span></span><br><span class="line">    f1, f2, f3 := <span class="number">100</span>, <span class="string">&quot;tom&quot;</span>, <span class="number">888</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;f1=&quot;</span>, f1, <span class="string">&quot;f2=&quot;</span>, f2, <span class="string">&quot;f3=&quot;</span>, f3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>定义成大写，可被其他文件调用。</p>
<p>全局变量的生命周期跟随程序的生命周期</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="comment">//定义全局变量</span></span><br><span class="line"><span class="keyword">var</span> h1 = <span class="number">100</span></span><br><span class="line"><span class="keyword">var</span> h2 = <span class="number">200</span></span><br><span class="line"><span class="keyword">var</span> h3 = <span class="string">&quot;jack&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//上面的声明方式，也可以改成一次性声明</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">        n3 = <span class="number">300</span></span><br><span class="line">        n4 = <span class="number">900</span></span><br><span class="line">        n5 = <span class="string">&quot;mary&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;h1=&quot;</span>, h1, <span class="string">&quot;h2=&quot;</span>, h2, <span class="string">&quot;h3=&quot;</span>, h3)</span><br><span class="line">    fmt.Println(<span class="string">&quot;n3=&quot;</span>, n3, <span class="string">&quot;n4=&quot;</span>, n4, <span class="string">&quot;n5=&quot;</span>, n5)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>常量不能在整个程序生命周期内不能被修改</p>
<h3 id="特性-1"><a href="#特性-1" class="headerlink" title="特性"></a>特性</h3><p>(1)常量使用const关键字</p>
<p>(2)常量在定义的时候，必须初始化</p>
<p>(3)常量不能修改</p>
<p>(4)常量只能修饰bool、数值类型(int、float系列)、string类型</p>
<p>(5)语法：const identifier [type] &#x3D;value</p>
<h3 id="定义常量"><a href="#定义常量" class="headerlink" title="定义常量"></a>定义常量</h3><p>在golang中并没有枚举这种类型，但在go中有类似的方式，就是使用<code>iota</code>常量生成器。从定义开始，iota值从0加1</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// iota从定义开始，每行开始自增1</span></span><br><span class="line"><span class="comment">// 当遇到新的赋值后，例如d和f，后续没有重新赋值iota，那么后续常量还是之前的赋值，如e和g</span></span><br><span class="line"><span class="comment">// 又赋值为iota后，看自增到多少，如h和i</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">   a = <span class="literal">iota</span></span><br><span class="line">   b        </span><br><span class="line">   c = <span class="literal">iota</span>+<span class="number">2</span>     </span><br><span class="line">   d = <span class="string">&quot;hi&quot;</span> </span><br><span class="line">   e      </span><br><span class="line">   f = <span class="number">100</span>  </span><br><span class="line">   g        </span><br><span class="line">   h, i = <span class="literal">iota</span> + <span class="number">1</span>, <span class="literal">iota</span> </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(a, b, c, d, e, f, g, h, i)</span><br><span class="line">   <span class="comment">// 输出: 0 1 4 hi hi 100 100 8 7</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">const</span> name=<span class="string">&quot;tom&quot;</span> <span class="comment">//ok</span></span><br><span class="line">    <span class="keyword">const</span> tax <span class="type">float64</span>=<span class="number">0.8</span> <span class="comment">//ok</span></span><br><span class="line">    <span class="keyword">const</span> a <span class="type">int</span> <span class="comment">//error,没有初始化值</span></span><br><span class="line">    <span class="keyword">const</span> b=<span class="number">9</span>/<span class="number">3</span> <span class="comment">//ok</span></span><br><span class="line">    <span class="keyword">const</span> c = getVal() <span class="comment">//error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>值类型：基本数据类型（int系列，float系列，bool等），字符串，数组，结构体</p>
<p>引用类型：切片，map，channel，interface</p>
<p>Golang 更明确的数字类型命名，支持 Unicode，支持常用数据结构。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>长度(字节)</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bool</td>
<td>1</td>
<td>FALSE</td>
<td></td>
</tr>
<tr>
<td>byte</td>
<td>1</td>
<td>0</td>
<td>uint8</td>
</tr>
<tr>
<td>rune</td>
<td>4</td>
<td>0</td>
<td>Unicode Code Point, int32</td>
</tr>
<tr>
<td>int, uint</td>
<td>4或8</td>
<td>0</td>
<td>32 或 64 位</td>
</tr>
<tr>
<td>int8, uint8</td>
<td>1</td>
<td>0</td>
<td>-128 ~ 127, 0 ~ 255，byte是uint8 的别名</td>
</tr>
<tr>
<td>int16, uint16</td>
<td>2</td>
<td>0</td>
<td>-32768 ~ 32767, 0 ~ 65535</td>
</tr>
<tr>
<td>int32, uint32</td>
<td>4</td>
<td>0</td>
<td>-21亿~ 21亿, 0 ~ 42亿，rune是int32 的别名</td>
</tr>
<tr>
<td>int64, uint64</td>
<td>8</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>float32</td>
<td>4</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>float64</td>
<td>8</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>complex64</td>
<td>8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>complex128</td>
<td>16</td>
<td></td>
<td></td>
</tr>
<tr>
<td>uintptr</td>
<td>4或8</td>
<td></td>
<td>以存储指针的 uint32 或 uint64 整数</td>
</tr>
<tr>
<td>array</td>
<td></td>
<td></td>
<td>值类型</td>
</tr>
<tr>
<td>struct</td>
<td></td>
<td></td>
<td>值类型</td>
</tr>
<tr>
<td>string</td>
<td></td>
<td>“”</td>
<td>UTF-8 字符串</td>
</tr>
<tr>
<td>slice</td>
<td></td>
<td>nil</td>
<td>引用类型</td>
</tr>
<tr>
<td>map</td>
<td></td>
<td>nil</td>
<td>引用类型</td>
</tr>
<tr>
<td>channel</td>
<td></td>
<td>nil</td>
<td>引用类型</td>
</tr>
<tr>
<td>interface</td>
<td></td>
<td>nil</td>
<td>接口</td>
</tr>
<tr>
<td>function</td>
<td></td>
<td>nil</td>
<td>函数</td>
</tr>
</tbody></table>
<h3 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h3><ul>
<li>有符号整型</li>
</ul>
<p>分类：int、int8、int16、int32、int64</p>
<p>数据范围：<code>-2^(n-1) 到 2^(n-1)-1</code></p>
<p>正数使用原码表示，最高位为0，故int8的正数取值范围为0到2^(7)-1（0000 0000 ~ 0111 1111）</p>
<p>负数使用补码表示，最高位为1，故int8的负数取值范围为-2^(7)到-1（1000 0000 ~ 1111 1111）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span>=<span class="number">1</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int8</span>=<span class="number">2</span></span><br><span class="line">   <span class="comment">// 其他int16,int32，int64类推</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>,a)</span><br><span class="line">   fmt.Println(<span class="string">&quot;b=&quot;</span>,b)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//查看某个变量的数据类型</span></span><br><span class="line">   <span class="comment">//查看某个变量的占用字节大小</span></span><br><span class="line">   <span class="comment">// 输出：b的类型int8 b占用的字节数是1</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;b的类型%T b占用的字节数是%d\n&quot;</span>, b, unsafe.Sizeof(b))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>无符号整型</li>
</ul>
<p>uint、uint8、uint16、uint32、uint64、uintptr</p>
<p>无符号整型范围: <code> 0 到 2^n-1</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">uint</span>=<span class="number">1</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">uint8</span>=<span class="number">2</span></span><br><span class="line">   <span class="comment">// 其他uint16,uint32，uint64类推</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>,a)</span><br><span class="line">   fmt.Println(<span class="string">&quot;b=&quot;</span>,b)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//查看某个变量的数据类型</span></span><br><span class="line">   <span class="comment">//查看某个变量的占用字节大小</span></span><br><span class="line">   <span class="comment">// 输出：b的类型uint8 b占用的字节数是1</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;b的类型%T b占用的字节数是%d\n&quot;</span>, b, unsafe.Sizeof(b))</span><br><span class="line"></span><br><span class="line">   <span class="comment">// uintptr用法</span></span><br><span class="line">   <span class="comment">// 无符号的整型 uintptr，是用于存放指针的，它没有指定具体的 bit 大小但是足以容纳指针</span></span><br><span class="line">   <span class="comment">// uintptr的值表示了内存中的一个地址位置，它是一个整数，用于存储和计算指针的数值，但并不直接引用任何对象</span></span><br><span class="line">   <span class="comment">// 定义一个 int 变量</span></span><br><span class="line">   x := <span class="number">42</span></span><br><span class="line">   <span class="comment">// 获取 x 的地址，并转换为 uintptr</span></span><br><span class="line">   ptrUint := <span class="type">uintptr</span>(unsafe.Pointer(&amp;x))</span><br><span class="line">   <span class="comment">// 将 uintptr 转换回 *int 指针</span></span><br><span class="line">   ptrInt := (*<span class="type">int</span>)(unsafe.Pointer(ptrUint))</span><br><span class="line">   <span class="comment">// 通过转换后的指针修改 x 的值</span></span><br><span class="line">   *ptrInt = <span class="number">1337</span></span><br><span class="line">   <span class="comment">// 输出修改后的 x 值</span></span><br><span class="line">   fmt.Println(x) <span class="comment">// 输出: 1337</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><p>Go语言支持两种浮点型数：<code>float32</code>和<code>float64</code>。</p>
<p>这两种浮点型数据格式遵循<code>IEEE 754</code>标准</p>
<p><code>float32</code> 的浮点数的最大范围约为<code>3.4e38</code>，可以使用常量定义：<code>math.MaxFloat32</code>。</p>
<p><code>float64</code> 的浮点数的最大范围约为 <code>1.8e308</code>，可以使用一个常量定义：<code>math.MaxFloat64</code>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">float32</span>  = <span class="number">5.21</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">float64</span> = <span class="number">13.14</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>,a,<span class="string">&quot;b=&quot;</span>,b)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 输出：c=0.123</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="type">float64</span> = <span class="number">.123</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;c=&quot;</span>, c)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 科学计数法表示</span></span><br><span class="line">   d := <span class="number">5.1234e2</span></span><br><span class="line">   e := <span class="number">5.1234e-2</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;d=&quot;</span>,d,<span class="string">&quot;e=&quot;</span>,e)</span><br><span class="line">   <span class="comment">//输出：d= 512.34 e= 0.051234</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="复数类型"><a href="#复数类型" class="headerlink" title="复数类型"></a>复数类型</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">complex64`和`complex128</span><br></pre></td></tr></table></figure>

<p>复数有实部和虚部，<code>complex64</code>的实部和虚部为32位，<code>complex128</code>的实部和虚部为64位。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">complex64</span> = <span class="number">5</span> + <span class="number">21i</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">complex128</span> = <span class="number">13</span> + <span class="number">14i</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>,a,<span class="string">&quot;b=&quot;</span>,b)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 计算复数的实部和虚部</span></span><br><span class="line">   realPart := <span class="built_in">real</span>(a)</span><br><span class="line">   imagPart := <span class="built_in">imag</span>(a)</span><br><span class="line">   fmt.Println(<span class="string">&quot;realPart=&quot;</span>,realPart,<span class="string">&quot;imagPart=&quot;</span>,imagPart)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>布尔型数据只有true和false，且不能参与任何计算以及类型转换</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">bool</span>= <span class="literal">false</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>, a)</span><br><span class="line">   <span class="comment">//注意事项</span></span><br><span class="line">   <span class="comment">//1、bool类型占用存储空间是1个字节</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a的占用空间=&quot;</span>, unsafe.Sizeof(a))</span><br><span class="line">   <span class="comment">//2、bool类型只能取true或者false</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h3><p>组成每个字符串的元素叫做字符，可以通过遍历或者单个获取字符串元素获得字符。 字符用<code>单引号&#39; &#39;</code>包裹起来</p>
<p>字符有两种类型</p>
<ul>
<li>byte：也是uint8类型，表示 ASCII 码的一个字符。</li>
<li>rune：也是int32类型，代表一个 Unicode 字符，当需要处理中文、日文或者其他复合字符时，则需要用到 rune 类型。</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">byte</span> = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">   <span class="comment">// 输出对应的码值 a= 97</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>,a)</span><br><span class="line">   <span class="comment">// 输出对应的字符，a=a</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;a=%c\n&quot;</span>,a)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 使用rune表示中文，byte一个字节存不下</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">rune</span> = <span class="string">&#x27;中&#x27;</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;b=%c\n&quot;</span>,b)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// 字符类型实际上存储的实对应码值，所以可以用整型存储</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="type">int</span> = <span class="string">&#x27;北&#x27;</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;c=%c c对应的码值=%d\n&quot;</span>, c, c)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><ul>
<li>特性：一个字符串是一个不可改变的字节序列，字符串可以包含任意的数据，但是通常是用来包含可读的文本，字符串是 UTF-8 字符的一个序列</li>
<li>字符串转义符：</li>
</ul>
<table>
<thead>
<tr>
<th>转义</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>\r</td>
<td>回车符（返回行首）</td>
</tr>
<tr>
<td>\n</td>
<td>换行符（直接跳到下一行的同列位置）</td>
</tr>
<tr>
<td>\t</td>
<td>制表符</td>
</tr>
<tr>
<td>&#39;</td>
<td>单引号</td>
</tr>
<tr>
<td>&quot;</td>
<td>双引号</td>
</tr>
<tr>
<td>\</td>
<td>反斜杠自身</td>
</tr>
</tbody></table>
<ul>
<li>多行字符串</li>
</ul>
<p>Go语言中要定义一个多行字符串时，就必须使用<code>反引号</code> &#96;&#96;字符</p>
<p>特点：反引号间换行将被作为字符串中的换行，但是所有的转义字符均无效，文本将会原样输出。</p>
<ul>
<li>修改字符串</li>
</ul>
<p>要修改字符串，需要先将其转换成<code>[]rune或[]byte</code>，完成后再转换为<code>string</code>。无论哪种转换，都会重新分配内存，并复制字节数组。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 基本用法</span></span><br><span class="line">    <span class="keyword">var</span> a <span class="type">string</span> = <span class="string">&quot;我爱\ngo&quot;</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//多行字符串</span></span><br><span class="line">    <span class="keyword">var</span> b <span class="type">string</span> =<span class="string">`</span></span><br><span class="line"><span class="string">      我爱go\n</span></span><br><span class="line"><span class="string">      hello world</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;b=&quot;</span>,b)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串拼接</span></span><br><span class="line">    <span class="comment">// 分行时需要将+保留在上一行</span></span><br><span class="line">    <span class="keyword">var</span> c <span class="type">string</span> = <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;world&quot;</span> +</span><br><span class="line">      <span class="string">&quot;world&quot;</span> + <span class="string">&quot;hello&quot;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;c=&quot;</span>, c)</span><br><span class="line">    <span class="comment">// c[0] = &#x27;c&#x27; // 错误，这里不能修改字符串的内容，go中的字符串是不可变的</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 修改字符串</span></span><br><span class="line">    <span class="keyword">var</span> str <span class="type">string</span> = <span class="string">&quot;hello&quot;</span></span><br><span class="line">    ans := []<span class="type">byte</span>(str)</span><br><span class="line">    ans[<span class="number">0</span>] = <span class="string">&#x27;H&#x27;</span></span><br><span class="line">    fmt.Println(<span class="type">string</span>(ans)) <span class="comment">// 输出：Hello</span></span><br><span class="line">    </span><br><span class="line">    str = <span class="string">&quot;码斋&quot;</span></span><br><span class="line">    res := []<span class="type">rune</span>(str)</span><br><span class="line">    res[<span class="number">1</span>] = <span class="string">&#x27;神&#x27;</span></span><br><span class="line">    fmt.Println(<span class="type">string</span>(res)) <span class="comment">// 输出：码神</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><p>作用：指向其他变量，用于操作该变量</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">       &amp;是取地址操作符</span></span><br><span class="line"><span class="comment">       *是取值操作符</span></span><br><span class="line"><span class="comment">       *数据类型是指针类型</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">521</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>, a) <span class="comment">// 输出： a=521</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 基本用法，指向变量a</span></span><br><span class="line">   <span class="keyword">var</span> p *<span class="type">int</span> = &amp;a</span><br><span class="line">   <span class="comment">// 修改后，变量a的值会发生变化</span></span><br><span class="line">   *p = <span class="number">1314</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>, a) <span class="comment">//输出：a=1314</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> ptr *<span class="type">int</span></span><br><span class="line">   <span class="comment">// *ptr = 10 // 错误，此时ptr是一个空指向，没有一个可用的内存地址供其操作</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 使用new函数提前在内存中申请一块内存，这样就获得了一个内存地址，就不会报错了</span></span><br><span class="line">   ptr = <span class="built_in">new</span>(<span class="type">int</span>)</span><br><span class="line">   *ptr = <span class="number">10</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;ptr=&quot;</span>, *ptr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>特点：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 数组：是同一种数据类型的固定长度的序列。</span><br><span class="line">数组声明：<span class="keyword">var</span> 数组变量名 [元素数量]Type</span><br><span class="line"><span class="number">2.</span> 数组定义：<span class="keyword">var</span> a [<span class="built_in">len</span>]<span class="type">int</span>，比如：<span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span>，数组长度必须是常量，且是类型的组成部分。一旦定义，长度不能变。</span><br><span class="line"><span class="number">3.</span> 长度是数组类型的一部分，因此，<span class="keyword">var</span> a[<span class="number">5</span>] <span class="type">int</span>和<span class="keyword">var</span> a[<span class="number">10</span>]<span class="type">int</span>是不同的类型。</span><br><span class="line"><span class="number">4.</span> 数组可以通过下标进行访问，下标是从<span class="number">0</span>开始，最后一个元素下标是：<span class="built_in">len</span><span class="number">-1</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> index, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">5.</span> 访问越界，如果下标在数组合法范围之外，则触发访问越界，会<span class="built_in">panic</span></span><br><span class="line"><span class="number">6.</span> 数组是值类型，赋值和传参会复制整个数组，而不是指针。因此改变副本的值，不会改变本身的值。</span><br><span class="line"><span class="number">7.</span>支持 <span class="string">&quot;==&quot;</span>、<span class="string">&quot;!=&quot;</span> 操作符，因为内存总是被初始化过的。</span><br><span class="line"><span class="number">8.</span>指针数组 [n]*T，数组指针 *[n]T。（指针数组：数组存储的是指针，是一个数组。数组指针：指针指向数组）</span><br></pre></td></tr></table></figure>

<ul>
<li>赋值初始化</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 方式一</span></span><br><span class="line">   <span class="comment">// 未赋值的元素有默认值</span></span><br><span class="line">   <span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span> = [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">   fmt.Println(a) <span class="comment">// 1 2 3 0 0</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式二</span></span><br><span class="line">   <span class="keyword">var</span> b = [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">   fmt.Println(b)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式三，元素个数推导</span></span><br><span class="line">   <span class="keyword">var</span> c = [...]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">   fmt.Println(c)</span><br><span class="line">   <span class="keyword">var</span> d = [...]<span class="type">string</span>&#123;<span class="number">2</span>:<span class="string">&quot;嘿嘿&quot;</span>,<span class="number">3</span>:<span class="string">&quot;嘻嘻&quot;</span>&#125; <span class="comment">// 使用索引号初始化元素。</span></span><br><span class="line">   fmt.Println(d)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式四，类型推导</span></span><br><span class="line">   e := [...]<span class="type">string</span>&#123;<span class="number">1</span>:<span class="string">&quot;哈哈&quot;</span>,<span class="number">2</span>:<span class="string">&quot;嘿嘿&quot;</span>,<span class="number">3</span>:<span class="string">&quot;嘻嘻&quot;</span>&#125;</span><br><span class="line">   fmt.Println(e)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>取值</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span> = [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">   <span class="comment">// 索引方式</span></span><br><span class="line">   fmt.Println(a[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 遍历方式</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ &#123;</span><br><span class="line">      fmt.Println(a[i])</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// for-range</span></span><br><span class="line">   <span class="keyword">for</span> i, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;i=&quot;</span>, i, <span class="string">&quot;v=&quot;</span>, v)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>二维数组</li>
</ul>
<p>特点：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">使用方式：先声明/定义再赋值</span><br><span class="line">语法：var 数组名 [大小][大小]类型</span><br><span class="line">使用方式2：直接初始化</span><br><span class="line">1、声明：var 数组名 [大小][大小]类型 = [大小][大小]类型&#123;&#123;初值...&#125;,&#123;初值...&#125;&#125;</span><br><span class="line">2、赋值(有默认值，比如int类型 就是0)</span><br><span class="line">3、说明：二维数组在声明/定义时也对应有四种写法[和一维数组类似]</span><br><span class="line">var 数组名 [大小][大小]类型=[大小][大小]类型&#123;&#123;初值...&#125;,&#123;初值...&#125;&#125;</span><br><span class="line">var 数组名 [大小][大小]类型=[...][大小]类型&#123;&#123;初值...&#125;,&#123;初值...&#125;&#125;</span><br><span class="line">var 数组名=[大小][大小]类型&#123;&#123;初值...&#125;,&#123;初值...&#125;&#125;</span><br><span class="line">var 数组名=[...][大小]类型&#123;&#123;初值...&#125;,&#123;初值...&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>二维数组初始化和遍历：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 初始化，可以省略行的大小，通过总元素和列数进行推导</span></span><br><span class="line">   <span class="keyword">var</span> a [<span class="number">2</span>][<span class="number">2</span>]<span class="type">int</span> = [<span class="number">2</span>][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;</span><br><span class="line">   <span class="keyword">var</span> b [<span class="number">2</span>][<span class="number">2</span>]<span class="type">int</span> = [...][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;</span><br><span class="line">   <span class="keyword">var</span> c = [...][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;</span><br><span class="line">   d := [...][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;</span><br><span class="line">   fmt.Println(<span class="string">&quot;b=&quot;</span>, b, <span class="string">&quot;c=&quot;</span>, c, <span class="string">&quot;d=&quot;</span>, d)</span><br><span class="line">   <span class="comment">// 遍历</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ &#123;</span><br><span class="line">      <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(a[i]); j++ &#123;</span><br><span class="line">         fmt.Println(a[i][j])</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// for-range遍历，外层相当于拿到了一维数组，再对一维数组进行for-range，进行取值</span></span><br><span class="line">   <span class="keyword">for</span> _, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">      <span class="keyword">for</span> _, value := <span class="keyword">range</span> v &#123;</span><br><span class="line">         fmt.Println(<span class="string">&quot;value=&quot;</span>, value)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><ul>
<li>介绍</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">切片的基本介绍</span><br><span class="line"><span class="number">1</span> 切片的英文是slice</span><br><span class="line"><span class="number">2</span> 切片是数组的一个引用，因此切片是引用类型，在进行传递时，遵守引用传递的机制</span><br><span class="line"><span class="number">3</span> 切片的使用和数组类似，遍历切片、访问切片的元素和求切片长度<span class="built_in">len</span>(slice)都一样</span><br><span class="line"><span class="number">4</span> 切片的长度是可以变化的，因此切片是一个可以动态变化数组</span><br><span class="line"><span class="number">5</span> 切片定义的基本语法</span><br><span class="line"> <span class="keyword">var</span> 切片名 []类型</span><br><span class="line"> <span class="keyword">var</span> a []<span class="type">int</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">切片内存分布</span><br><span class="line"><span class="number">1</span>、slice的确是一个引用类型</span><br><span class="line"><span class="number">2</span>、slice从底层来说，其实就是一个数据结构（<span class="keyword">struct</span>结构）</span><br><span class="line"><span class="keyword">type</span> slice <span class="keyword">struct</span>&#123;</span><br><span class="line">        ptr *[<span class="number">2</span>]<span class="type">int</span></span><br><span class="line">        <span class="built_in">len</span> <span class="type">int</span></span><br><span class="line">        <span class="built_in">cap</span> <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line">结构体内部的指针指向数组，切片的改变会引起数组的改变。并通过<span class="built_in">cap</span>进行动态扩容。</span><br></pre></td></tr></table></figure>

<ul>
<li>定义和使用</li>
</ul>
<p>方式一：直接引用其他数组</p>
<p>方式二：使用make分配内存</p>
<p>方式三：直接初始化</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 定义的切片如果没有初始化，是不可以直接操作的</span></span><br><span class="line">   <span class="comment">// 方式一：引用其他数据</span></span><br><span class="line">   <span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span> = [...]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">   <span class="comment">//声明/定义一个切片</span></span><br><span class="line">   <span class="comment">//slice就是切片名</span></span><br><span class="line">   <span class="comment">//a[1:3]表示slice引用到a这个数组</span></span><br><span class="line">   <span class="comment">//引用a数组的起始下标为1，最后的下标为3（但是不包含3）</span></span><br><span class="line">   slice := a[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>, a)</span><br><span class="line">   fmt.Println(<span class="string">&quot;slice的元素是=&quot;</span>, slice)       <span class="comment">// 2,3</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;slice的元素个数=&quot;</span>, <span class="built_in">len</span>(slice)) <span class="comment">// 求长度 // 输出：2</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;slice的容量是=&quot;</span>, <span class="built_in">cap</span>(slice))  <span class="comment">//求容量，切片的容量是可以动态变化</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式二：通过make来创建切片。</span></span><br><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">      基本语法：</span></span><br><span class="line"><span class="comment">      var 切片名 []type = make([]type,len,[cap])</span></span><br><span class="line"><span class="comment">      参数说明：type：就是数据类型；len：大小；cap：指定切片容量，可选</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="keyword">var</span> slice2 []<span class="type">int</span> = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">   slice2[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">   slice2[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">   slice2 = <span class="built_in">append</span>(slice2, <span class="number">2</span>)</span><br><span class="line">   fmt.Println(slice2) <span class="comment">// 1 2 0 0 0 2</span></span><br><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">      总结：</span></span><br><span class="line"><span class="comment">      1、通过make方式创建切片可以指定切片的大小和容量，容量如果不设置，那么容量等于切片大小</span></span><br><span class="line"><span class="comment">      2、如果没有给切片的各个元素赋值，那么就会使用默认值</span></span><br><span class="line"><span class="comment">      3、通过make方式创建的切片对应的数组是由make底层维护，对外不可见，即只能通过slice去访问各个元素</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   方式1和方式2的区别</span></span><br><span class="line"><span class="comment">   方式1是直接引用数组，这个数组是事先存在的，程序员是可见的</span></span><br><span class="line"><span class="comment">   方式2是通过make来创建切片，make也会创建一个数组，是由切片在底层进行维护，程序员是看不见的</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式三：直接初始化</span></span><br><span class="line">   <span class="keyword">var</span> arr []<span class="type">int</span> = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">   fmt.Println(arr) <span class="comment">// 1 2 3 4 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>遍历</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> arr = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">   <span class="comment">// 方式一：普通for循环</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(arr); i++ &#123;</span><br><span class="line">      fmt.Println(arr[i])</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式二：for-range</span></span><br><span class="line">   <span class="keyword">for</span> i, v := <span class="keyword">range</span> arr &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;i=&quot;</span>, i, <span class="string">&quot;v=&quot;</span>, v)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>常见方法</li>
</ul>
<p>增加元素：append(splice, element)</p>
<p>拷贝元素：copy(newSplice, oldSplice)</p>
<p>删除元素：间接删除</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1、切片初始化时，var slice = arr[startIndex:endIndex]</span></span><br><span class="line"><span class="comment">说明：从arr数组下标为startIndex，取到下标为endIndex的元素（不含arr[endIndex]）</span></span><br><span class="line"><span class="comment">2、切片初始化时，仍然不能越界，范围在[0-len(arr)]之间，但是可以动态增长</span></span><br><span class="line"><span class="comment">(1)var slice = arr[0:end] 可以简写var slice = arr[:end]</span></span><br><span class="line"><span class="comment">(2)var slice = arr[start:len(arr)] 可以简写var slice = arr[start:]</span></span><br><span class="line"><span class="comment">(3)var slice = arr[0:len(arr)] 可以简写var slice = arr[:]</span></span><br><span class="line"><span class="comment">3、cap是一个内置函数，用于统计切片的容量，即最大可以存放多少个元素</span></span><br><span class="line"><span class="comment">4、切片定义完后，还不能使用，因为本身是一个空的，需要让其引用到一个数组，或者make一个空间供切片来使用</span></span><br><span class="line"><span class="comment">5、切片可以继续切片</span></span><br><span class="line"><span class="comment">6、用append内置函数，可以对切片进行动态追加</span></span><br><span class="line"><span class="comment">切片append操作的底层原理分析</span></span><br><span class="line"><span class="comment">(1)切片append操作的本质就是对数组扩容</span></span><br><span class="line"><span class="comment">(2)go底层会创建一个新的数组newArr(安装扩容后大小)</span></span><br><span class="line"><span class="comment">(3)将slice原来包含的元素拷贝到新的数组newArr</span></span><br><span class="line"><span class="comment">(4)slice重新引用到newArr</span></span><br><span class="line"><span class="comment">(5)注意newArr是在底层来维护的，程序员不可见</span></span><br><span class="line"><span class="comment">7、切片的拷贝操作</span></span><br><span class="line"><span class="comment">切片使用copy内置函数完成拷贝</span></span><br><span class="line"><span class="comment">说明：copy(para1,para2) para1和para2都是切片类型</span></span><br><span class="line"><span class="comment">8、切片是引用类型，所以在传递时，遵守引用传递机制</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">//5</span></span><br><span class="line">   <span class="keyword">var</span> slice []<span class="type">int</span> = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">   slice2 := slice[:]</span><br><span class="line">   slice2[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;slice2=&quot;</span>, slice2) <span class="comment">// 1 0 0 0 0</span></span><br><span class="line">   <span class="comment">//切片是引用类型，改变元素的值，同时也会改变引用的值</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;slice=&quot;</span>, slice) <span class="comment">// 1 0 0 0 0</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// append 使用</span></span><br><span class="line">   <span class="keyword">var</span> slice3 []<span class="type">int</span> = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">   slice3 = <span class="built_in">append</span>(slice3, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">   <span class="comment">//通过append将切片slice3追加给slice3，注意后面需要...</span></span><br><span class="line">   slice3 = <span class="built_in">append</span>(slice3, slice3...)</span><br><span class="line">   fmt.Println(<span class="string">&quot;slice3&quot;</span>, slice3) <span class="comment">// 1 2 3 4 5 6 1 2 3 4 5 6</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// copy 使用</span></span><br><span class="line">   <span class="keyword">var</span> slice4 []<span class="type">int</span> = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">   <span class="keyword">var</span> slice5 = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">   <span class="built_in">copy</span>(slice5, slice4)</span><br><span class="line">   fmt.Println(<span class="string">&quot;slice4=&quot;</span>, slice4) <span class="comment">// 1 2 3 4 5</span></span><br><span class="line">   <span class="comment">//slice4和slice5的数据空间是独立的</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;slice5=&quot;</span>, slice5) <span class="comment">// 1 2 3 4 5 0 0 0 0 0</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 间接删除</span></span><br><span class="line">   <span class="keyword">var</span> slice6 = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">   slice6 = <span class="built_in">append</span>(slice6[:<span class="number">2</span>], slice6[<span class="number">3</span>:]...)</span><br><span class="line">   fmt.Println(slice6) <span class="comment">// 1 2 4 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>排序</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">sort.Slice(s1, func(i, j int) bool &#123; return s1[i] &lt; s1[j] &#125;)</span></span><br><span class="line"><span class="comment">sort.Slice(s2, func(i, j int) bool &#123; return s2[i] &lt; s2[j] &#125;)</span></span><br><span class="line"><span class="comment">可以使用以上方法对切片快速进行排序</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> arr = []<span class="type">int</span>&#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>&#125;</span><br><span class="line">   sort.Slice(arr, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> arr[i] &gt; arr[j]</span><br><span class="line">   &#125;)</span><br><span class="line">   fmt.Println(arr) <span class="comment">// 5 4 3 2 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>string和slice</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1、string底层是一个byte数组，因此string也可以进行切片处理</span></span><br><span class="line"><span class="comment">2、string和切片在内存的形式，string也代表一个地址</span></span><br><span class="line"><span class="comment">3、string是不可变的，也就是说不能通过str[0]=&#x27;z&#x27;方式来修改字符串</span></span><br><span class="line"><span class="comment">4、如果需要修改字符串，可以先将string-&gt;[]byte 或者 []rune -&gt; 修改 -&gt; 重写转成string</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">s1, s2 := []byte(s), []byte(t)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 转为切片</span></span><br><span class="line">   str := <span class="string">&quot;hello&quot;</span></span><br><span class="line">   slice := str[<span class="number">2</span>:]</span><br><span class="line">   fmt.Println(<span class="string">&quot;slice=&quot;</span>, slice) <span class="comment">// llo </span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 字符串不可变性</span></span><br><span class="line">   <span class="comment">//str[0]=&#x27;z&#x27;//编译不通过，报错，原因是string是不可变的</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 转为[]byte</span></span><br><span class="line">   arr1 := []<span class="type">byte</span>(str)</span><br><span class="line">   arr1[<span class="number">0</span>] = <span class="string">&#x27;z&#x27;</span></span><br><span class="line">   str = <span class="type">string</span>(arr1)</span><br><span class="line">   fmt.Println(<span class="string">&quot;str=&quot;</span>, str) <span class="comment">// zello</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//细节，我们转成[]byte后，可以处理英文和数字，但是不能处理中文</span></span><br><span class="line">   <span class="comment">//原因是[]byte字节来处理，而一个汉字，是3个字节，因此就会乱码</span></span><br><span class="line">   <span class="comment">//解决方法是将string转成[]rune即可，因为[]rune是按字符处理，兼容汉字</span></span><br><span class="line">   arr2 := []<span class="type">rune</span>(str)</span><br><span class="line">   arr2[<span class="number">0</span>] = <span class="string">&#x27;北&#x27;</span></span><br><span class="line">   str = <span class="type">string</span>(arr2)</span><br><span class="line">   fmt.Println(<span class="string">&quot;str=&quot;</span>, str) <span class="comment">// 北ello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>冒号使用</li>
</ul>
<p>a[x:y:z]的含义：</p>
<p>切片内容： [x:y] </p>
<p>切片长度：y-x </p>
<p>切片容量：z-x</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> arr = []<span class="type">int</span>&#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>&#125;</span><br><span class="line">   data := arr[<span class="number">2</span>:<span class="number">4</span>]</span><br><span class="line">   fmt.Println(<span class="string">&quot;len=&quot;</span>, <span class="built_in">len</span>(data)) <span class="comment">// 2</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;cap=&quot;</span>, <span class="built_in">cap</span>(data)) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">   data = arr[<span class="number">2</span>:<span class="number">5</span>:<span class="number">5</span>]</span><br><span class="line">   fmt.Println(<span class="string">&quot;len=&quot;</span>, <span class="built_in">len</span>(data)) <span class="comment">// 3</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;cap=&quot;</span>, <span class="built_in">cap</span>(data)) <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>[][]T</li>
</ul>
<p>[][]T，是指元素类型为 []T 。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   data := [][]<span class="type">int</span>&#123;</span><br><span class="line">      []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">      []<span class="type">int</span>&#123;<span class="number">4</span>, <span class="number">5</span>&#125;,</span><br><span class="line">      []<span class="type">int</span>&#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;,</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(data)</span><br><span class="line">   fmt.Println(data[<span class="number">1</span>]) <span class="comment">// 4 5</span></span><br><span class="line">   fmt.Println(data[<span class="number">2</span>][<span class="number">1</span>]) <span class="comment">// 7</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ul>
<li>介绍</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、<span class="keyword">map</span>介绍</span><br><span class="line"><span class="keyword">map</span>是key-value数据结构，又称为字段或者关联数组。类似其它编程语言的集合，在编程中是经常使用到的</span><br><span class="line"><span class="number">2</span>、<span class="keyword">map</span>声明</span><br><span class="line">基本语法：</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">map</span>变量名 <span class="keyword">map</span>[keytype]valuetype</span><br><span class="line">(<span class="number">1</span>)key可以是什么类型</span><br><span class="line"><span class="keyword">go</span>中的<span class="keyword">map</span>，key可以是很多种类型，比如<span class="type">bool</span>，数字，<span class="type">string</span>，指针，channel，还可以是只包含前面几个类型的接口，结构体，数组</span><br><span class="line">通常为<span class="type">int</span>、<span class="type">string</span></span><br><span class="line">注意：slice、<span class="keyword">map</span>还有function不可以，因为这几个没法用==来判断</span><br><span class="line">(<span class="number">2</span>)valuetype可以是什么类型</span><br><span class="line">valuetype的类型和key基本一样</span><br><span class="line">通常为数字(整数，浮点数)，<span class="type">string</span>，<span class="keyword">map</span>，<span class="keyword">struct</span></span><br><span class="line">注意：声明是不会分配内存的，初始化需要<span class="built_in">make</span>，分配内存后才能赋值和使用</span><br><span class="line"><span class="number">3</span>、<span class="keyword">map</span>是引用类型，遵守引用类型传递的机制，在一个函数接收<span class="keyword">map</span>，修改后，会直接修改原来的<span class="keyword">map</span></span><br><span class="line"><span class="number">4</span>、<span class="keyword">map</span>的容量达到后，再想<span class="keyword">map</span>增加元素，会自动扩容，并不会发生<span class="built_in">panic</span>，也就是说<span class="keyword">map</span>能动态增长 键值对(key-value)</span><br></pre></td></tr></table></figure>

<ul>
<li>声明定义</li>
</ul>
<p>map类型的变量默认初始值为nil，需要使用make()函数来分配内存。语法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">make(map[KeyType]ValueType, [cap])</span><br><span class="line"></span><br><span class="line">其中cap表示map的容量，该参数虽然不是必须的，但是应该在初始化map的时候就为其指定一个合适的容量。</span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">map的使用方式</span><br><span class="line">(1)方式1</span><br><span class="line">var a map[string]string</span><br><span class="line">a=make(map[string]string,10)</span><br><span class="line">(2)方式2</span><br><span class="line">var a = make(map[string]string)</span><br><span class="line">(3)方式3</span><br><span class="line">var a map[string]string = map[string]string&#123;</span><br><span class="line">   &quot;no4&quot;:&quot;武汉&quot;,</span><br><span class="line">&#125;</span><br><span class="line">a[&quot;no1&quot;]=&quot;湖北&quot;</span><br><span class="line">*/</span><br><span class="line">func main() &#123;</span><br><span class="line">   //方式1</span><br><span class="line">   var a map[string]string</span><br><span class="line">   a = make(map[string]string, 10)</span><br><span class="line">   a[&quot;name&quot;] = &quot;liu&quot;</span><br><span class="line">   fmt.Println(a)</span><br><span class="line"></span><br><span class="line">   //方式2</span><br><span class="line">   b := make(map[string]string)</span><br><span class="line">   b[&quot;location&quot;] = &quot;武汉&quot;</span><br><span class="line">   fmt.Println(b)</span><br><span class="line"></span><br><span class="line">   //方式3</span><br><span class="line">   var heroes map[string]string = map[string]string&#123;</span><br><span class="line">      &quot;hero&quot;: &quot;zhu&quot;,</span><br><span class="line">   &#125;</span><br><span class="line">   heroes[&quot;name&quot;] = &quot;feng&quot;</span><br><span class="line">   fmt.Println(&quot;heroes=&quot;, heroes)</span><br><span class="line"></span><br><span class="line">   //案例</span><br><span class="line">   /*</span><br><span class="line">      演示一个key-value的value是map的案例</span><br><span class="line">      比如：要存放3个学生信息，每个学生有name和sex信息</span><br><span class="line">      思路：map[string]map[string]string</span><br><span class="line">   */</span><br><span class="line">   studentMap := make(map[string]map[string]string)</span><br><span class="line">   studentMap[&quot;stu01&quot;] = make(map[string]string, 3) //这句话不能少</span><br><span class="line">   studentMap[&quot;stu01&quot;][&quot;name&quot;] = &quot;哈哈&quot;</span><br><span class="line">   studentMap[&quot;stu01&quot;][&quot;sex&quot;] = &quot;男&quot;</span><br><span class="line">   studentMap[&quot;stu01&quot;][&quot;address&quot;] = &quot;武汉&quot;</span><br><span class="line"></span><br><span class="line">   studentMap[&quot;stu02&quot;] = make(map[string]string, 3) //这句话不能少</span><br><span class="line">   studentMap[&quot;stu02&quot;][&quot;name&quot;] = &quot;嘿嘿&quot;</span><br><span class="line">   studentMap[&quot;stu02&quot;][&quot;sex&quot;] = &quot;女&quot;</span><br><span class="line">   studentMap[&quot;stu02&quot;][&quot;address&quot;] = &quot;武汉&quot;</span><br><span class="line">   fmt.Println(studentMap)</span><br><span class="line">   fmt.Println(studentMap[&quot;stu02&quot;])</span><br><span class="line">   fmt.Println(studentMap[&quot;stu02&quot;][&quot;address&quot;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>遍历</li>
</ul>
<p>for-range</p>
<p>注意： 遍历map时的元素顺序与添加键值对的顺序无关。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map的遍历使用for-range的结构遍历</span></span><br><span class="line"><span class="comment">//map的长度可以用len()</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">   a[<span class="string">&quot;no1&quot;</span>] = <span class="string">&quot;武汉&quot;</span></span><br><span class="line">   a[<span class="string">&quot;no2&quot;</span>] = <span class="string">&quot;湖北&quot;</span></span><br><span class="line">   <span class="keyword">for</span> k, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;k=%v v=%v\n&quot;</span>, k, v)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   fmt.Println(<span class="string">&quot;a有&quot;</span>, <span class="built_in">len</span>(a), <span class="string">&quot;对key-value&quot;</span>) <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//使用for-range遍历一个结构比较复杂的map</span></span><br><span class="line">   studentMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">   studentMap[<span class="string">&quot;stu01&quot;</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, <span class="number">3</span>) <span class="comment">//这句话不能少</span></span><br><span class="line">   studentMap[<span class="string">&quot;stu01&quot;</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;哈哈&quot;</span></span><br><span class="line">   studentMap[<span class="string">&quot;stu01&quot;</span>][<span class="string">&quot;sex&quot;</span>] = <span class="string">&quot;男&quot;</span></span><br><span class="line">   studentMap[<span class="string">&quot;stu01&quot;</span>][<span class="string">&quot;address&quot;</span>] = <span class="string">&quot;武汉&quot;</span></span><br><span class="line"></span><br><span class="line">   studentMap[<span class="string">&quot;stu02&quot;</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, <span class="number">3</span>) <span class="comment">//这句话不能少</span></span><br><span class="line">   studentMap[<span class="string">&quot;stu02&quot;</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;嘿嘿&quot;</span></span><br><span class="line">   studentMap[<span class="string">&quot;stu02&quot;</span>][<span class="string">&quot;sex&quot;</span>] = <span class="string">&quot;女&quot;</span></span><br><span class="line">   studentMap[<span class="string">&quot;stu02&quot;</span>][<span class="string">&quot;address&quot;</span>] = <span class="string">&quot;武汉&quot;</span></span><br><span class="line">   <span class="keyword">for</span> k1, v1 := <span class="keyword">range</span> studentMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;k1=&quot;</span>, k1)</span><br><span class="line">      <span class="keyword">for</span> k2, v2 := <span class="keyword">range</span> v1 &#123;</span><br><span class="line">         fmt.Printf(<span class="string">&quot;\t k2=%v v2=%v\n&quot;</span>, k2, v2)</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println()</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>增删改查</li>
</ul>
<p>增改：map[“key”]&#x3D;value，不存在key，就是增；存在key，就是改</p>
<p>删：delete(map,”key”)，删除key</p>
<p>查：value,ok&#x3D;map[“key”]，ok为true，则查到</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1、map增加和更新</span></span><br><span class="line"><span class="comment">map[&quot;key&quot;]=value //如果key还没有，就是增加，如果key存在就是修改</span></span><br><span class="line"><span class="comment">2、map删除</span></span><br><span class="line"><span class="comment">说明：</span></span><br><span class="line"><span class="comment">delete(map,&quot;key&quot;)，delete是一个内置函数，如果key存在，就删除该key-value，如果key不存在，不操作，但是也不会报错</span></span><br><span class="line"><span class="comment">细节说明：</span></span><br><span class="line"><span class="comment">(1)如果要删除map的所有key，没有一个专门的方法一次性删除，可以遍历一下key，逐个删除</span></span><br><span class="line"><span class="comment">(2)或者map = make(...)，make一个新的，让原来的成为垃圾，被gc回收</span></span><br><span class="line"><span class="comment">3、map查找</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">   a[<span class="string">&quot;no1&quot;</span>] = <span class="string">&quot;武汉&quot;</span></span><br><span class="line">   a[<span class="string">&quot;no2&quot;</span>] = <span class="string">&quot;湖北&quot;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//删除</span></span><br><span class="line">   <span class="built_in">delete</span>(a, <span class="string">&quot;no1&quot;</span>)</span><br><span class="line">   <span class="built_in">delete</span>(a, <span class="string">&quot;no4&quot;</span>) <span class="comment">//不报错</span></span><br><span class="line">   fmt.Println(a) <span class="comment">// no2:湖北</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//全部删除</span></span><br><span class="line">   a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">   fmt.Println(a) <span class="comment">// 空[]</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//map查找</span></span><br><span class="line">   b := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">   b[<span class="string">&quot;no1&quot;</span>] = <span class="string">&quot;猪猪&quot;</span></span><br><span class="line">   val, ok := b[<span class="string">&quot;no1&quot;</span>]</span><br><span class="line">   fmt.Println(ok) <span class="comment">//true</span></span><br><span class="line">   <span class="keyword">if</span> ok &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;有no1，key值为%v\n&quot;</span>, val) <span class="comment">// 执行</span></span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;没有no1 key\n&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>切片map</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">基本介绍：</span></span><br><span class="line"><span class="comment">切片的数据类型如果是map，则称为slice of map切片，这样使用则map个数就可以动态变化了</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">//1、声明一个map切片</span></span><br><span class="line">   <span class="keyword">var</span> monsters []<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span></span><br><span class="line">   monsters = <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, <span class="number">2</span>) <span class="comment">//准备放入两个妖怪</span></span><br><span class="line">   <span class="comment">//2、增加一个妖怪的信息</span></span><br><span class="line">   <span class="keyword">if</span> monsters[<span class="number">0</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">      monsters[<span class="number">0</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, <span class="number">2</span>)</span><br><span class="line">      monsters[<span class="number">0</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;牛魔王&quot;</span></span><br><span class="line">      monsters[<span class="number">0</span>][<span class="string">&quot;age&quot;</span>] = <span class="string">&quot;500&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(monsters)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//这里需要使用到切片的append函数，可以动态的增加monster</span></span><br><span class="line">   <span class="comment">//1、先定义个monster信息</span></span><br><span class="line">   newMonster := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;火云邪神&quot;</span>,</span><br><span class="line">      <span class="string">&quot;age&quot;</span>:  <span class="string">&quot;200&quot;</span>,</span><br><span class="line">   &#125;</span><br><span class="line">   monsters = <span class="built_in">append</span>(monsters, newMonster)</span><br><span class="line">   fmt.Println(monsters)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>map值切片</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">基本介绍：</span></span><br><span class="line"><span class="comment">map的值是切片，值可以动态变化了</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> sliceMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>][]<span class="type">string</span>, <span class="number">3</span>)</span><br><span class="line">   fmt.Println(sliceMap)</span><br><span class="line">   fmt.Println(<span class="string">&quot;after init&quot;</span>)</span><br><span class="line">   key := <span class="string">&quot;中国&quot;</span></span><br><span class="line">   value, ok := sliceMap[key]</span><br><span class="line">   <span class="keyword">if</span> !ok &#123;</span><br><span class="line">      value = <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   value = <span class="built_in">append</span>(value, <span class="string">&quot;北京&quot;</span>, <span class="string">&quot;上海&quot;</span>)</span><br><span class="line">   sliceMap[key] = value</span><br><span class="line">   fmt.Println(sliceMap) <span class="comment">// 中国:[北京,上海]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>排序</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">基本介绍：</span></span><br><span class="line"><span class="comment">(1)go中没有一个专门的方法针对map的key进行排序</span></span><br><span class="line"><span class="comment">(2)go中的map默认是无序的，注意也不是按照添加的顺序存放的，每次遍历，得到的输出可能不一样</span></span><br><span class="line"><span class="comment">(3)go中map的排序，是先将key进行排序，然后根据key值遍历输出即可</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   map1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">   map1[<span class="number">10</span>] = <span class="number">100</span></span><br><span class="line">   map1[<span class="number">1</span>] = <span class="number">13</span></span><br><span class="line">   map1[<span class="number">4</span>] = <span class="number">56</span></span><br><span class="line">   map1[<span class="number">8</span>] = <span class="number">90</span></span><br><span class="line">   fmt.Println(map1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//如果按照map的key的顺序进行排序输出</span></span><br><span class="line">   <span class="comment">//1、先将map的key放入到切片中</span></span><br><span class="line">   <span class="comment">//2、对切片排序</span></span><br><span class="line">   <span class="comment">//3、遍历切片，然后按照key来输出map的值</span></span><br><span class="line">   <span class="keyword">var</span> keys []<span class="type">int</span></span><br><span class="line">   <span class="keyword">for</span> k, _ := <span class="keyword">range</span> map1 &#123;</span><br><span class="line">      keys = <span class="built_in">append</span>(keys, k)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//排序</span></span><br><span class="line">   sort.Ints(keys) <span class="comment">//递增排序</span></span><br><span class="line">   fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> _, k := <span class="keyword">range</span> keys &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;map1[%v]=%v\n&quot;</span>, k, map1[k])</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/* 输出</span></span><br><span class="line"><span class="comment">   map[1:13 4:56 8:90 10:100]</span></span><br><span class="line"><span class="comment">   [1 4 8 10]</span></span><br><span class="line"><span class="comment">   map1[1]=13</span></span><br><span class="line"><span class="comment">   map1[4]=56</span></span><br><span class="line"><span class="comment">   map1[8]=90</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h3><h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><h3 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h3><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p>Go语言中只有强制类型转换，没有隐式类型转换。该语法只能在两个类型之间支持相互转换的时候使用</p>
<p>强制类型转换的基本语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T(表达式)</span><br></pre></td></tr></table></figure>

<h3 id="基本类型相互转换"><a href="#基本类型相互转换" class="headerlink" title="基本类型相互转换"></a>基本类型相互转换</h3><p>都使用强制类型转换</p>
<p>只有相同底层类型的变量之间可以进行相互转换，不同底层类型的变量相互转换时会引发编译错误（如bool转int）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 基本用法</span></span><br><span class="line">   <span class="comment">// 被转换的是变量存储的数据，变量本身的数据类型并没有改变。比如a的类型还是int32</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int32</span> = <span class="number">100</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">float32</span> = <span class="type">float32</span>(a)</span><br><span class="line">   <span class="keyword">var</span> c <span class="type">int8</span> = <span class="type">int8</span>(a)</span><br><span class="line">   <span class="keyword">var</span> d <span class="type">int64</span> = <span class="type">int64</span>(a)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;a=%v b=%v c=%v d=%v\n&quot;</span>, a, b, c, d)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// 高精度向低精度转换会损失精度</span></span><br><span class="line">   <span class="keyword">var</span> e <span class="type">int64</span> = <span class="number">999999</span></span><br><span class="line">   <span class="keyword">var</span> f <span class="type">int8</span> = <span class="type">int8</span>(e)</span><br><span class="line">   fmt.Println(<span class="string">&quot;f=&quot;</span>, f) <span class="comment">// 输出f=63</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="基本类型转换string"><a href="#基本类型转换string" class="headerlink" title="基本类型转换string"></a>基本类型转换string</h3><ul>
<li>方式一：<code>fmt.Sprintf</code></li>
<li>方式二：strconv包下的函数<code>strconv.Formatxxx</code></li>
<li>方式三：strconv包中的函数Itoa</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">100</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">float64</span> = <span class="number">5.21</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="type">bool</span> = <span class="literal">true</span></span><br><span class="line">   <span class="keyword">var</span> d <span class="type">byte</span> = <span class="string">&#x27;z&#x27;</span></span><br><span class="line">   <span class="keyword">var</span> str <span class="type">string</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式一</span></span><br><span class="line">   str = fmt.Sprintf(<span class="string">&quot;%d&quot;</span>, a)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%v\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   str = fmt.Sprintf(<span class="string">&quot;%f&quot;</span>, b)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%v\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   str = fmt.Sprintf(<span class="string">&quot;%t&quot;</span>, c)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%q\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   str = fmt.Sprintf(<span class="string">&quot;%c&quot;</span>, d)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%q\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式二</span></span><br><span class="line">   str = strconv.FormatInt(<span class="type">int64</span>(a), <span class="number">10</span>) <span class="comment">// 10表示10进制</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%q\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 说明: &#x27;f&#x27;格式  10：表示小数位保留10位 64：表示这个小数是float64</span></span><br><span class="line">   str = strconv.FormatFloat(b, <span class="string">&#x27;f&#x27;</span>, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%q\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   str = strconv.FormatBool(c)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%q\n&quot;</span>, str, str)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式三</span></span><br><span class="line">   <span class="keyword">var</span> e <span class="type">int64</span> = <span class="number">1314</span></span><br><span class="line">   str = strconv.Itoa(<span class="type">int</span>(e))</span><br><span class="line">   fmt.Printf(<span class="string">&quot;str type %T str=%q\n&quot;</span>, str, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="string转换基本类型"><a href="#string转换基本类型" class="headerlink" title="string转换基本类型"></a>string转换基本类型</h3><p>使用strconv.Parsexxx函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> str <span class="type">string</span> = <span class="string">&quot;1314&quot;</span></span><br><span class="line">   <span class="comment">// 转int</span></span><br><span class="line">   <span class="comment">// 只想获取到value int，不想获取err，所以使用_忽略</span></span><br><span class="line">   a, _ := strconv.ParseInt(str, <span class="number">10</span>, <span class="number">64</span>) <span class="comment">// 10是十进制，64返回的是int64</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;a type %T=%v\n&quot;</span>, a, a)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 转float</span></span><br><span class="line">   str = <span class="string">&quot;13.14&quot;</span></span><br><span class="line">   b, _ := strconv.ParseFloat(str, <span class="number">64</span>) <span class="comment">// 64返回的是float64</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;b type %T=%v\n&quot;</span>, b, b)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 转bool</span></span><br><span class="line">   str = <span class="string">&quot;true&quot;</span></span><br><span class="line">   c, _ := strconv.ParseBool(str)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;c type %T=%v\n&quot;</span>, c, c)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 当string不能转换为相应的基本数据类型时，会有默认值</span></span><br><span class="line">   str = <span class="string">&quot;1234&quot;</span></span><br><span class="line">   d, _ := strconv.ParseBool(str)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;d type %T=%v\n&quot;</span>, d, d) <span class="comment">// 输出： d type bool=false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>用于数据类型之间的运算操作</p>
<h3 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h3><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>相加</td>
</tr>
<tr>
<td>-</td>
<td>相减</td>
</tr>
<tr>
<td>*</td>
<td>相乘</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>相除</td>
</tr>
<tr>
<td>%</td>
<td>求余</td>
</tr>
</tbody></table>
<p> 注：++（自增）和–（自减）在Go语言中是单独的语句，并不是运算符。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 加法</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">5</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">5</span></span><br><span class="line">   num := a + b</span><br><span class="line">   fmt.Println(<span class="string">&quot;num=&quot;</span>, num)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 减法</span></span><br><span class="line">   num = a - b</span><br><span class="line">   fmt.Println(<span class="string">&quot;num=&quot;</span>, num)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 乘法</span></span><br><span class="line">   num = a * b</span><br><span class="line">   fmt.Println(<span class="string">&quot;num=&quot;</span>, num)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 除法</span></span><br><span class="line">   <span class="comment">// 如果运算的数都是整数，那么除后，去掉小数部分，保留整数部分</span></span><br><span class="line">   fmt.Println(<span class="number">10</span>/<span class="number">4</span>) <span class="comment">// 输出：2</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="type">float32</span> = <span class="number">10</span>/<span class="number">4</span></span><br><span class="line">   fmt.Println(c) <span class="comment">// 输出：2</span></span><br><span class="line">   <span class="comment">// 希望保留小数部分，则需要有浮点数参与运算</span></span><br><span class="line">   <span class="keyword">var</span> d <span class="type">float32</span> = <span class="number">10.0</span> / <span class="number">4</span></span><br><span class="line">   fmt.Println(d)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 模运算</span></span><br><span class="line">   <span class="comment">// 公式：a%b = a - a / b * b</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;10%3=&quot;</span>, <span class="number">10</span>%<span class="number">3</span>) <span class="comment">// 输出 1</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;-10%3=&quot;</span>, <span class="number">-10</span>%<span class="number">3</span>) <span class="comment">// 输出 -1</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;10%-3=&quot;</span>, <span class="number">10</span>%<span class="number">-3</span>) <span class="comment">// 输出 1</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;-10%-3&quot;</span>, <span class="number">-10</span>%<span class="number">-3</span>) <span class="comment">// 输出 -1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// ++和--使用</span></span><br><span class="line">   <span class="comment">// 只有后++，后--</span></span><br><span class="line">   <span class="keyword">var</span> e <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">   e++</span><br><span class="line">   fmt.Println(<span class="string">&quot;e=&quot;</span>, e) <span class="comment">// 输出 11</span></span><br><span class="line">   e--</span><br><span class="line">   fmt.Println(<span class="string">&quot;e=&quot;</span>, e) <span class="comment">// 输出 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p>判断两个变量的大小关系</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;</td>
<td>检查两个值是否相等，如果相等返回 True 否则返回 False。</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>检查两个值是否不相等，如果不相等返回 True 否则返回 False。</td>
</tr>
<tr>
<td>&gt;</td>
<td>检查左边值是否大于右边值，如果是返回 True 否则返回 False。</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。</td>
</tr>
<tr>
<td>&lt;</td>
<td>检查左边值是否小于右边值，如果是返回 True 否则返回 False。</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">9</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">8</span></span><br><span class="line">   fmt.Println(a == b) <span class="comment">// false</span></span><br><span class="line">   fmt.Println(a != b) <span class="comment">// true</span></span><br><span class="line">   fmt.Println(a &gt; b) <span class="comment">// true</span></span><br><span class="line">   fmt.Println(a &gt;= b) <span class="comment">// true</span></span><br><span class="line">   fmt.Println(a &lt; b) <span class="comment">// false</span></span><br><span class="line">   fmt.Println(a &lt;= b) <span class="comment">// false</span></span><br><span class="line">   flag := a &gt; b</span><br><span class="line">   fmt.Println(<span class="string">&quot;flag=&quot;</span>, flag) <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>用于两个变量或表达式的逻辑关系</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp;</td>
<td>逻辑 AND 运算符。 如果两边的操作数都是 True，则为 True，否则为 False。</td>
</tr>
<tr>
<td>ll</td>
<td>逻辑 OR 运算符。 如果两边的操作数有一个 True，则为 True，否则为 False。</td>
</tr>
<tr>
<td>!</td>
<td>逻辑 NOT 运算符。 如果条件为 True，则为 False，否则为 True。</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;test...&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">27</span></span><br><span class="line">   <span class="comment">// 逻辑与</span></span><br><span class="line">   <span class="keyword">if</span> a &gt; <span class="number">18</span> &amp;&amp; a &lt; <span class="number">30</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;ok1&quot;</span>) <span class="comment">// 执行</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 逻辑或</span></span><br><span class="line">   <span class="keyword">if</span> a &gt; <span class="number">18</span> || a &lt; <span class="number">30</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;ok2&quot;</span>) <span class="comment">// 执行</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 逻辑非</span></span><br><span class="line">   <span class="keyword">if</span> !(a &lt; <span class="number">18</span>) &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;ok3&quot;</span>) <span class="comment">// 执行</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 短路与</span></span><br><span class="line">   <span class="comment">// 因为a&lt;18为false，因此后面的test()就不执行</span></span><br><span class="line">   <span class="keyword">if</span> a &lt; <span class="number">18</span> &amp;&amp; test() &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;短路与&quot;</span>) <span class="comment">// 不执行</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 短路或</span></span><br><span class="line">   <span class="comment">// 因为a&gt;18为true，因此后面的test()就不执行</span></span><br><span class="line">   <span class="keyword">if</span> a &gt; <span class="number">18</span> || test() &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;短路或&quot;</span>) <span class="comment">//执行</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>将一个变量赋值给另一个变量</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>简单的赋值运算符，将一个表达式的值赋给一个左值</td>
</tr>
<tr>
<td>+&#x3D;</td>
<td>相加后再赋值</td>
</tr>
<tr>
<td>-&#x3D;</td>
<td>相减后再赋值</td>
</tr>
<tr>
<td>*&#x3D;</td>
<td>相乘后再赋值</td>
</tr>
<tr>
<td>&#x2F;&#x3D;</td>
<td>相除后再赋值</td>
</tr>
<tr>
<td>%&#x3D;</td>
<td>求余后再赋值</td>
</tr>
<tr>
<td>&lt;&lt;&#x3D;</td>
<td>左移后赋值</td>
</tr>
<tr>
<td>&gt;&gt;&#x3D;</td>
<td>右移后赋值</td>
</tr>
<tr>
<td>&amp;&#x3D;</td>
<td>按位与后赋值</td>
</tr>
<tr>
<td>l&#x3D;</td>
<td>按位或后赋值</td>
</tr>
<tr>
<td>^&#x3D;</td>
<td>按位异或后赋值</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 赋值</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span>  = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 复合赋值，其余复合赋值运算符类似</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">20</span></span><br><span class="line">   a += b</span><br><span class="line">   fmt.Println(<span class="string">&quot;a=&quot;</span>, a) <span class="comment">// 30</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 交换两个数</span></span><br><span class="line">   <span class="comment">// 方式1</span></span><br><span class="line">   <span class="keyword">var</span> temp <span class="type">int</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="type">int</span> = <span class="number">1</span></span><br><span class="line">   <span class="keyword">var</span> d <span class="type">int</span> = <span class="number">2</span></span><br><span class="line">   temp = c</span><br><span class="line">   c = d</span><br><span class="line">   d = temp</span><br><span class="line">   fmt.Println(<span class="string">&quot;c=&quot;</span>, c, <span class="string">&quot;d=&quot;</span>, d) <span class="comment">// 输出：c=2,d=1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//方式2</span></span><br><span class="line">   c = c+d</span><br><span class="line">   d = c-d</span><br><span class="line">   c = c-d</span><br><span class="line">   fmt.Println(<span class="string">&quot;c=&quot;</span>, c, <span class="string">&quot;d=&quot;</span>, d) <span class="comment">// 输出：c=1,d=2</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式3</span></span><br><span class="line">   c, d = d, c</span><br><span class="line">   fmt.Println(<span class="string">&quot;c=&quot;</span>, c, <span class="string">&quot;d=&quot;</span>, d) <span class="comment">// 输出：c=2,d=1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>二进制：01组成</p>
<p>八进制：0-7，满8进1，以数字0开头表示</p>
<p>十六进制：0-9及A-F，满16进1，以0x或0X开头表示</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">var</span> i <span class="type">int</span> = <span class="number">5</span></span><br><span class="line">        <span class="comment">//二进制输出，直接输出是十进制</span></span><br><span class="line">        fmt.Printf(<span class="string">&quot;%b\n&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//八进制：0-7，满8进1，以数字0开头表示</span></span><br><span class="line">        <span class="keyword">var</span> j <span class="type">int</span> = <span class="number">011</span> <span class="comment">//011=8+1=9</span></span><br><span class="line">        fmt.Println(<span class="string">&quot;j=&quot;</span>, j)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//0-9及A-F，满16进1，以0x或0X开头表示</span></span><br><span class="line">        <span class="keyword">var</span> k <span class="type">int</span> = <span class="number">0x11</span> <span class="comment">//0x11=16+1=17</span></span><br><span class="line">        fmt.Println(<span class="string">&quot;k=&quot;</span>, k)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>位运算符对整数在内存中的二进制位进行操作。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;</td>
<td>参与运算的两数各对应的二进位相与。（两位均为1才为1）</td>
</tr>
<tr>
<td>l</td>
<td>参与运算的两数各对应的二进位相或。（两位有一个为1就为1）</td>
</tr>
<tr>
<td>^</td>
<td>参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。（两位不一样则为1）</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>左移n位就是乘以2的n次方。“a&lt;&lt;b”是把a的各二进位全部左移b位，高位丢弃，低位补0。</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>右移n位就是除以2的n次方。“a&gt;&gt;b”是把a的各二进位全部右移b位。</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">1</span> <span class="comment">// 0001</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">3</span> <span class="comment">// 0011</span></span><br><span class="line">   <span class="comment">// 与</span></span><br><span class="line">   fmt.Println(a&amp;b) <span class="comment">// 1</span></span><br><span class="line">   <span class="comment">// 或</span></span><br><span class="line">   fmt.Println(a|b) <span class="comment">// 3</span></span><br><span class="line">   <span class="comment">// 异或</span></span><br><span class="line">   fmt.Println(a^b) <span class="comment">// 2</span></span><br><span class="line">   <span class="comment">//左移</span></span><br><span class="line">   fmt.Println(a&lt;&lt;b) <span class="comment">// 8</span></span><br><span class="line">   <span class="comment">//右移</span></span><br><span class="line">   fmt.Println(a&gt;&gt;b) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li>go没有三元运算符</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">//传统的三元运算</span></span><br><span class="line">   <span class="comment">//n=i&gt;j?i:j</span></span><br><span class="line">   <span class="comment">//在golang中是没有这个传统三元运算的</span></span><br><span class="line">   <span class="keyword">var</span> n <span class="type">int</span></span><br><span class="line">   <span class="keyword">var</span> i <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">   <span class="keyword">var</span> j <span class="type">int</span> = <span class="number">12</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> i &gt; j &#123;</span><br><span class="line">      n = i</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      n = j</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(<span class="string">&quot;n=&quot;</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>变量输入</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> name <span class="type">string</span></span><br><span class="line">   <span class="keyword">var</span> age <span class="type">byte</span></span><br><span class="line">   <span class="keyword">var</span> sal <span class="type">float32</span></span><br><span class="line">   <span class="keyword">var</span> isPass <span class="type">bool</span></span><br><span class="line">   <span class="comment">// 方式1 fmt.Scanln</span></span><br><span class="line">   <span class="comment">// 当程序执行到fmt.Scanln(&amp;name)，程序会停止在这里，等待用户输入，并回车</span></span><br><span class="line">   fmt.Scanln(&amp;name)</span><br><span class="line">   fmt.Scanln(&amp;age)</span><br><span class="line">   fmt.Scanln(&amp;sal)</span><br><span class="line">   fmt.Scanln(&amp;isPass)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;名字是%v\n 年龄是%v\n 薪水是%v\n 是否通过考试%v\n&quot;</span>, name, age, sal, isPass)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 方式2 fmt.Scanf，可以按指定的格式输入</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;请输入你的姓名，年龄，薪水，是否通过考试，使用空格隔开&quot;</span>)</span><br><span class="line">   fmt.Scanf(<span class="string">&quot;%s %d %f %t&quot;</span>, &amp;name, &amp;age, &amp;sal, &amp;isPass)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;名字是%v\n 年龄是%v\n 薪水是%v\n 是否通过考试%v\n&quot;</span>, name, age, sal, isPass)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="条件语句if"><a href="#条件语句if" class="headerlink" title="条件语句if"></a>条件语句if</h3><p>条件语句需要开发者通过指定一个或多个条件，并通过测试条件是否为 true 来决定是否执行指定语句，并在条件为 false 的情况在执行另外的语句。</p>
<ul>
<li>单分支条件语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">18</span></span><br><span class="line">   <span class="comment">// 单分支</span></span><br><span class="line">   <span class="keyword">if</span> a &gt; <span class="number">18</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;a不大于18&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 在go中，支持在if中直接定义一个变量</span></span><br><span class="line">   <span class="keyword">if</span> b := <span class="number">20</span>; b &gt; <span class="number">18</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;b大于18&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>双分支条件语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">20</span></span><br><span class="line">   <span class="comment">//else的位置只能这样，不能换行</span></span><br><span class="line">   <span class="keyword">if</span> a &gt; <span class="number">18</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;大于18...&quot;</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;不大于18&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>多分支条件语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">20</span></span><br><span class="line">   <span class="comment">//多分支判断</span></span><br><span class="line">   <span class="keyword">if</span> a == <span class="number">100</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;哈哈&quot;</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> score &gt; <span class="number">80</span> &amp;&amp; score == <span class="number">99</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;呵呵&quot;</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">60</span> &amp;&amp; score &lt;= <span class="number">80</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;嘿嘿&quot;</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;嗯嗯&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>嵌套条件语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> a &lt;= <span class="number">8</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">      <span class="keyword">if</span> b == <span class="number">10</span> &#123;</span><br><span class="line">         fmt.Println(<span class="string">&quot;哈哈&quot;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         fmt.Println(<span class="string">&quot;嗯嗯&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;嘿嘿&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="条件语句switch"><a href="#条件语句switch" class="headerlink" title="条件语句switch"></a>条件语句switch</h3><p>switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上直下逐一测试，直到匹配为止。特点：switch 分支表达式可以是任意类型，不限于常量。可省略 break，默认自动终止</p>
<p>细节：</p>
<p>1、switch分支不需要break，匹配到执行代码块，执行完退出switch</p>
<p>2、case后面可以有多个表达式，用逗号隔开</p>
<p>3、后面接的表达式可以是常量，变量，带返回值的函数等</p>
<p>4、case后的各个表达式的值的数据类型要与switch后的表达式的数据类型一致</p>
<p>5、case后面表达式如果是常量值，则要求不能重复</p>
<p>6、default语句不是必须的</p>
<p>7、switch后也可以不带表达式，类似if—else分支来使用</p>
<p>8、case中可以对范围进行判断</p>
<p>9、switch后也可以直接声明&#x2F;定义一个变量，分号结束，不推荐</p>
<p>10、switch穿透 - fallthrough，如果在case语句块后增加fallthrough，则会继续执行下一个case，也叫switch穿透</p>
<p>11、Type Switch：switch语句还可以被用于type-switch来判断某个interface变量中实际指向的变量类型</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 基本用法</span></span><br><span class="line">   <span class="keyword">var</span> age <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">   <span class="keyword">switch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> age == <span class="number">10</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;age==10&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> age == <span class="number">20</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;age==20&quot;</span>)</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;没有匹配到&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//8、case中可以对范围进行判断</span></span><br><span class="line">   <span class="keyword">var</span> score <span class="type">int</span> = <span class="number">90</span></span><br><span class="line">   <span class="keyword">switch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> score &gt; <span class="number">90</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;成绩优秀&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> score &gt;= <span class="number">70</span> &amp;&amp; score &lt;= <span class="number">90</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;成绩优良&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> score &gt;= <span class="number">60</span> &amp;&amp; score &lt; <span class="number">70</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;成绩及格&quot;</span>)</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;不及格&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//9、switch后也可以直接声明/定义一个变量，分号结束，不推荐</span></span><br><span class="line">   <span class="keyword">switch</span> grade := <span class="number">90</span>; &#123;</span><br><span class="line">      <span class="keyword">case</span> grade &gt; <span class="number">90</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;成绩优秀&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> grade &gt;= <span class="number">70</span> &amp;&amp; grade &lt;= <span class="number">90</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;成绩优良&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> grade &gt;= <span class="number">60</span> &amp;&amp; grade &lt; <span class="number">70</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;成绩及格&quot;</span>)</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;不及格&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//10、switch穿透 - fallthrough，如果在case语句块后增加fallthrough，则会继续执行下一个case，也叫switch穿透</span></span><br><span class="line">   <span class="keyword">var</span> num <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">      <span class="keyword">switch</span> num &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;ok1&quot;</span>) <span class="comment">// 执行</span></span><br><span class="line">         <span class="keyword">fallthrough</span> <span class="comment">//默认只能穿透一层</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">20</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;ok2&quot;</span>) <span class="comment">// 执行</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">30</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;ok3&quot;</span>)</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;没有匹配到&quot;</span>)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//11、Type Switch：switch语句还可以被用于type-switch来判断某个interface变量中实际指向的变量类型</span></span><br><span class="line">   <span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">   <span class="keyword">var</span> y = <span class="number">10.0</span></span><br><span class="line">   x = y</span><br><span class="line">   <span class="keyword">switch</span> i := x.(<span class="keyword">type</span>) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">         fmt.Printf(<span class="string">&quot;x的类型%T\n&quot;</span>, i)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;x是int型&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">float64</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;x是float64型&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">float64</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;x是func(int)型&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">bool</span>, <span class="type">string</span>:</span><br><span class="line">         fmt.Println(<span class="string">&quot;x是bool或string型&quot;</span>)</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Printf(<span class="string">&quot;未知型&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="条件语句select"><a href="#条件语句select" class="headerlink" title="条件语句select"></a>条件语句select</h3><h3 id="循环语句for"><a href="#循环语句for" class="headerlink" title="循环语句for"></a>循环语句for</h3><p>for循环是一个循环控制结构，可以执行指定次数的循环。</p>
<p>语法：</p>
<p>Go语言的For循环有3种形式，只有其中的一种使用分号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">三种形式：</span><br><span class="line">for init; condition; post &#123; &#125;</span><br><span class="line">for condition &#123; &#125;</span><br><span class="line">for &#123; &#125;</span><br><span class="line"></span><br><span class="line">init： 一般为赋值表达式，给控制变量赋初值；</span><br><span class="line">condition： 关系表达式或逻辑表达式，循环控制条件；</span><br><span class="line">post： 一般为赋值表达式，给控制变量增量或减量。</span><br><span class="line">for语句执行过程如下：</span><br><span class="line">①先对表达式 init 赋初值；</span><br><span class="line">②判别赋值表达式 init 是否满足给定 condition 条件，若其值为真，满足循环条件，则执行循环体内语句，然后执行 post，进入第二次循环，再判别 condition；否则判断 condition 的值为假，不满足条件，就终止for循环，执行循环体外语句。</span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">   // 第一种形式</span><br><span class="line">   for i := 0; i &lt; 10 ; i++ &#123;</span><br><span class="line">      fmt.Println(i)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // 第二种形式</span><br><span class="line">   // 类似于while循环，go中没有while和do-while</span><br><span class="line">   var i int = 0</span><br><span class="line">   for i &lt; 10 &#123;</span><br><span class="line">      fmt.Println(i)</span><br><span class="line">      i++</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // 第三种形式</span><br><span class="line">   // 死循环</span><br><span class="line">   for true &#123;</span><br><span class="line">      fmt.Println(&quot;死循环&quot;)</span><br><span class="line">      break</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // 循环嵌套</span><br><span class="line">   for i := 0; i &lt; 5 ; i++ &#123;</span><br><span class="line">      for j := 0; j &lt; 5; j++ &#123;</span><br><span class="line">         fmt.Println(&quot;i=&quot;, i, &quot;j=&quot;, j)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环语句range"><a href="#循环语句range" class="headerlink" title="循环语句range"></a>循环语句range</h3><p>Golang range类似迭代器操作，返回 (索引, 值) 或 (键, 值)。</p>
<p>for 循环的 range 格式可以对 slice、map、数组、字符串等进行迭代循环。格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> oldMap &#123;</span><br><span class="line">    newMap[key] = value</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   s := <span class="string">&quot;abc&quot;</span></span><br><span class="line">   <span class="comment">// 忽略 2nd value，支持 string/array/slice/map。</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="keyword">range</span> s &#123;</span><br><span class="line">      <span class="built_in">println</span>(s[i])</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 忽略 index。</span></span><br><span class="line">   <span class="keyword">for</span> _, c := <span class="keyword">range</span> s &#123;</span><br><span class="line">      <span class="built_in">println</span>(c)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 忽略全部返回值，仅迭代。</span></span><br><span class="line">   <span class="keyword">for</span> <span class="keyword">range</span> s &#123;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line">   <span class="comment">// 返回 (key, value)。</span></span><br><span class="line">   <span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">      <span class="built_in">println</span>(k, v)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环控制语句goto、break、continue、return"><a href="#循环控制语句goto、break、continue、return" class="headerlink" title="循环控制语句goto、break、continue、return"></a>循环控制语句goto、break、continue、return</h3><p>循环控制语句可以控制循环体内语句的执行过程。</p>
<ul>
<li>goto 语句：通过<code>标签</code>进行代码间的无条件跳转，同时 goto 语句在快速跳出循环、避免重复退出上也有一定的帮助，使用 goto 语句能简化一些代码的实现过程。</li>
<li>break 语句：可以结束 for、switch 和 select 的代码块，另外 break 语句还可以在语句后面添加<code>标签</code>，表示退出某个标签对应的代码块，<code>标签</code>要求必须定义在对应的 <code>for</code>、<code>switch</code> 和 <code>select </code>的代码块上。</li>
<li>continue 语句：可以结束当前循环，开始下一次的循环迭代过程，仅限在 for 循环内使用，在 continue 语句后添加<code>标签</code>时，表示开始<code>标签对应的循环</code></li>
<li>return语句：结束当前函数</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> count <span class="type">int</span> = <span class="number">5</span>;</span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      <span class="comment">// i等于count时，使用break退出该循环</span></span><br><span class="line">      <span class="keyword">if</span> i == count &#123;</span><br><span class="line">         fmt.Println(<span class="string">&quot;退出for循环&quot;</span>)</span><br><span class="line">         <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// break语句出现在多层嵌套的语句块中时，可以通过标签指明要终止的是哪一层语句块</span></span><br><span class="line">   <span class="comment">// break默认会跳出最近的for循环</span></span><br><span class="line">   <span class="comment">// break后面可以指定标签，跳出标签对应的for循环</span></span><br><span class="line">label2:</span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">      <span class="comment">// label1: //设置一个标签</span></span><br><span class="line">      <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ &#123;</span><br><span class="line">         <span class="keyword">if</span> j == <span class="number">2</span> &#123; <span class="comment">// j==2的时，跳出标签label2指示的循环</span></span><br><span class="line">            <span class="keyword">break</span> label2</span><br><span class="line">         &#125;</span><br><span class="line">         fmt.Println(<span class="string">&quot;j=&quot;</span>, j)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// continue使用</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">      <span class="comment">// i为偶数时直接跳过，进入下一次循环</span></span><br><span class="line">      <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>&#123;</span><br><span class="line">         <span class="keyword">continue</span></span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println(<span class="string">&quot;奇数是&quot;</span>, i)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// goto和return</span></span><br><span class="line">   <span class="keyword">goto</span> label3</span><br><span class="line">   fmt.Println(<span class="string">&quot;ok1&quot;</span>) <span class="comment">// 不执行</span></span><br><span class="line">label3:</span><br><span class="line">   fmt.Println(<span class="string">&quot;ok3&quot;</span>) <span class="comment">// 执行</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//return使用在方法或者函数中，表示跳出所在方法或函数</span></span><br><span class="line">   <span class="comment">//如果return是在普通的函数，则表示跳出该函数，即不再执行函数中return后面代码，也可以理解成终止函数</span></span><br><span class="line">   <span class="comment">//如果return是在main函数，表示终止main函数，也就是说终止程序</span></span><br><span class="line">   <span class="keyword">return</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;re1&quot;</span>) <span class="comment">// 不执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>特点：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">无需声明原型。</span><br><span class="line">支持不定变参。</span><br><span class="line">支持多返回值。</span><br><span class="line">支持命名返回参数。</span><br><span class="line">支持匿名函数和闭包。</span><br><span class="line">函数也是一种类型，一个函数可以赋值给变量。</span><br><span class="line">不支持 嵌套 (nested) 一个包不能有两个名字一样的函数。</span><br><span class="line">不支持 重载 (overload)</span><br><span class="line">不支持 默认参数 (default parameter)。</span><br><span class="line">当两个或多个连续的函数命名参数是同一类型，则除了最后一个类型之外，其他都可以省略</span><br><span class="line">使用关键字 func 定义函数，左大括号依旧不能另起一行。</span><br></pre></td></tr></table></figure>

<h3 id="函数定义和使用"><a href="#函数定义和使用" class="headerlink" title="函数定义和使用"></a>函数定义和使用</h3><p>语法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function_name</span><span class="params">( [parameter list] )</span></span> [return_types] &#123;</span><br><span class="line">   函数体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line">    <span class="function"><span class="keyword">func</span>：函数由 <span class="title">func</span> 开始声明</span></span><br><span class="line">    function_name：函数名称，函数名和参数列表一起构成了函数签名。</span><br><span class="line">    parameter list：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。</span><br><span class="line">    return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。</span><br><span class="line">    函数体：函数定义的代码集合。</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>,<span class="type">int</span>) &#123;</span><br><span class="line">   fmt.Println(a, b)</span><br><span class="line">   <span class="keyword">return</span> a, b</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   test(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 函数也可以作为一种数据类型</span></span><br><span class="line">   <span class="keyword">var</span> swap <span class="function"><span class="keyword">func</span><span class="params">(a , b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>)</span><br><span class="line">   swap = <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> b, a</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(swap(<span class="number">10</span>,<span class="number">20</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数参数和返回值"><a href="#函数参数和返回值" class="headerlink" title="函数参数和返回值"></a>函数参数和返回值</h3><ul>
<li>形参和实参</li>
</ul>
<p>形参：函数定义时指出，函数定义时有参数，该变量可称为函数的形参。形参是定义在函数体内的局部变量</p>
<p>实参：当调用函数，传递过来的变量就是函数的实参</p>
<ul>
<li>函数参数传递方式</li>
</ul>
<p>函数可以通过两种方式来传递参数：值传递和引用传递</p>
<p>值传递：指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</p>
<p>引用传递：是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</p>
<p>在默认情况下，Go 语言使用的是值传递，即在调用过程中不会影响到实际参数。</p>
<p>注意1：无论是值传递，还是引用传递，传递给函数的都是变量的副本，不过，值传递是值的拷贝。引用传递是地址的拷贝，一般来说，地址拷贝更为高效。而值拷贝取决于拷贝的对象大小，对象越大，则性能越低。</p>
<p>注意2：map、slice、chan、指针、interface默认以引用的方式传递。</p>
<p>值类型：基本数据类型 int系列、float系列、bool、string、数组和结构体struct</p>
<p>引用类型：指针、slice切片、map、管道chan、interface等都是引用类型</p>
<ul>
<li>不定参数</li>
</ul>
<p>不定参数传值就是函数的参数不是固定的，后面的类型是固定的。（可变参数）</p>
<p>Golang 可变参数本质上就是 slice。只能有一个，且必须是最后一个。</p>
<p>在参数赋值时可以不用一个一个的赋值，可以直接传递一个数组或者切片，特别注意的是在参数后加上“…”即可。</p>
<p>任意类型的不定参数： 就是函数的参数和每个参数的类型都不是固定的。</p>
<p>用interface{}传递任意类型数据是Go语言的惯例用法，而且interface{}是类型安全的。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a <span class="type">string</span>, b ... <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">   fmt.Println(b[<span class="number">0</span>]) <span class="comment">// 1</span></span><br><span class="line">   fmt.Println(a, b)</span><br><span class="line">   <span class="keyword">for</span> _, v := <span class="keyword">range</span> b &#123;</span><br><span class="line">      fmt.Println(v)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test2</span><span class="params">(a <span class="keyword">interface</span>&#123;&#125;)</span></span>&#123;</span><br><span class="line">   fmt.Println(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   test(<span class="string">&quot;aaa&quot;</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 使用 slice 对象做变参时，必须展开。（slice...）</span></span><br><span class="line">   s := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">   test(<span class="string">&quot;bbb&quot;</span>, s...)    <span class="comment">// slice... 展开slice</span></span><br><span class="line"></span><br><span class="line">   test2(<span class="number">5.21</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>支持命名返回参数</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">为了简化数据类型定义，Go支持自定义数据类型</span></span><br><span class="line"><span class="comment">基本语法：type 自定义数据类型名 数据类型</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">type</span> myFunType <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a, b <span class="type">int</span>)</span></span> (sum <span class="type">int</span>)&#123;</span><br><span class="line">   sum = a + b</span><br><span class="line">   <span class="keyword">return</span>  <span class="comment">//因为已经给返回值命名了，所以按照返回值列表的顺序进行返回，不用再指定</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(test(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> swap myFunType</span><br><span class="line">   swap = <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> b, a</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(swap(<span class="number">10</span>,<span class="number">20</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="init函数"><a href="#init函数" class="headerlink" title="init函数"></a>init函数</h3><p>每一个源文件都可以包含一个init函数，该函数会在main函数执行前，被Go运行框架调用，也就是说init会在main函数前调用</p>
<p>执行的流程全局变量定义-&gt;init函数-&gt;main函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//每一个源文件都可以包含一个init函数，该函数会在main函数执行前，被Go运行框架调用，也就是说init会在main函数前调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1如果一个文件同时包含全局变量定义，init函数和main函数，则执行的流程全局变量定义-&gt;init函数-&gt;main函数</span></span><br><span class="line"><span class="keyword">var</span> age = test()</span><br><span class="line"></span><br><span class="line"><span class="comment">//为了看到全局变量是先被初始化的，我们这里先写函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;test()&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2init函数通常可以在init函数中完成初始化工作</span></span><br><span class="line"><span class="comment">//3main.go和utils.go都含有变量定义、init函数时，执行的流程是先执行调用的包里面的变量定义和init函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;init...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;main...age=&quot;</span>, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>匿名函数由一个不带函数名的函数声明和函数体组成。匿名函数的优越性在于可以直接使用函数内的变量，不必申明。</p>
<p>如果某个函数只是希望使用一次，可以考虑使用匿名函数，匿名函数也可以实现多次调用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   res := <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">      fmt.Println(a, <span class="string">&quot;匿名函数&quot;</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">   &#125;(<span class="number">2</span>)</span><br><span class="line">   fmt.Println(res) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 可以对匿名函数命名，然后后续进行使用</span></span><br><span class="line">   swap := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>,<span class="type">int</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> b, a</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(swap(<span class="number">10</span>,<span class="number">20</span>)) <span class="comment">// 20 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>闭包是由函数及其相关引用环境组合而成的实体(即：闭包&#x3D;函数+引用环境)。</p>
<p>“官方”的解释是：所谓“闭包”，指的是一个拥有许多变量和绑定了这些变量的环境的表达式（通常是一个函数），因而这些变量也是该表达式的一部分。</p>
<p>闭包复制的是原对象指针，故重复调用闭包可以改变闭包中的变量</p>
<ul>
<li>基本用法</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">   i := <span class="number">0</span></span><br><span class="line">   b := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">      i++</span><br><span class="line">      fmt.Println(i)</span><br><span class="line">      <span class="keyword">return</span> i</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 此时c引用了一个环境，此时环境里的变量具有持久性</span></span><br><span class="line">   c := a()</span><br><span class="line">   c()</span><br><span class="line">   c()</span><br><span class="line">   c()</span><br><span class="line"></span><br><span class="line">   a() <span class="comment">//不会输出i</span></span><br><span class="line">   <span class="comment">// 输出 1 2 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>外部引用函数参数局部变量</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 外部引用函数参数局部变量</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(base <span class="type">int</span>)</span></span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">      base += i</span><br><span class="line">      <span class="keyword">return</span> base</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 此时base会以10进行加</span></span><br><span class="line">   tmp1 := add(<span class="number">10</span>)</span><br><span class="line">   fmt.Println(tmp1(<span class="number">1</span>), tmp1(<span class="number">2</span>)) <span class="comment">// 11 13</span></span><br><span class="line">   <span class="comment">// 此时tmp1和tmp2不是一个实体了，引用的不用的环境</span></span><br><span class="line">   <span class="comment">// 此时base会以100进行加</span></span><br><span class="line">   tmp2 := add(<span class="number">100</span>)</span><br><span class="line">   fmt.Println(tmp2(<span class="number">1</span>), tmp2(<span class="number">2</span>)) <span class="comment">// 101 103</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>返回2个闭包</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回2个函数类型的返回值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test01</span><span class="params">(base <span class="type">int</span>)</span></span> (<span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span>, <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span>) &#123;</span><br><span class="line">   <span class="comment">// 定义2个函数，并返回</span></span><br><span class="line">   <span class="comment">// 相加</span></span><br><span class="line">   add := <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">      base += i</span><br><span class="line">      <span class="keyword">return</span> base</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 相减</span></span><br><span class="line">   sub := <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">      base -= i</span><br><span class="line">      <span class="keyword">return</span> base</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 返回</span></span><br><span class="line">   <span class="keyword">return</span> add, sub</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 引用的环境一直没有改变</span></span><br><span class="line">   f1, f2 := test01(<span class="number">10</span>)</span><br><span class="line">   <span class="comment">// base一直是没有消</span></span><br><span class="line">   fmt.Println(f1(<span class="number">1</span>), f2(<span class="number">2</span>)) <span class="comment">// 11 9</span></span><br><span class="line">   <span class="comment">// 此时base是9</span></span><br><span class="line">   fmt.Println(f1(<span class="number">3</span>), f2(<span class="number">4</span>)) <span class="comment">// 12 8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>递归，就是在运行的过程中调用自己。 一个函数调用自己，就叫做递归函数。</p>
<p>构成递归需具备的条件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.子问题须与原始问题为同样的事，且更为简单。</span><br><span class="line">2.不能无限制地调用本身，须有个出口，化简为非递归状况处理。</span><br></pre></td></tr></table></figure>

<p>斐波拉契数列</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonaci</span><span class="params">(i <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">   <span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> i == <span class="number">1</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> fibonaci(i<span class="number">-1</span>) + fibonaci(i<span class="number">-2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">   <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, fibonaci(i))</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="延迟调用defer"><a href="#延迟调用defer" class="headerlink" title="延迟调用defer"></a>延迟调用defer</h3><p><code>defer</code>是go语言中，一个特殊的关键字，用于<code>延迟调用</code>。</p>
<p>延迟调用：让函数或方法（跟在defer后的函数，我们一般称之为延迟函数）在当前函数执行完毕后但在<code>return</code>或者<code>panic之前</code>执行。</p>
<p>特点：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、当执行defer时，暂时不执行，会将defer后面的语句压入到独立的栈(defer栈)</span><br><span class="line">当函数执行完毕后，再从defer栈，按照先进后出的方式出栈，执行</span><br><span class="line">2、defer语句中的变量，在defer声明时就决定了。</span><br></pre></td></tr></table></figure>

<p>用途：资源释放</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 关闭文件句柄</span><br><span class="line">2. 锁资源释放</span><br><span class="line">3. 数据库连接释放</span><br></pre></td></tr></table></figure>

<p>与闭包使用的问题：</p>
<p>闭包有一个独立的环境，但是此时的闭包都同时引用的i，即使是不同的环境，i的改变，都会引起不同闭包的改变，最后循环结束，i为4，所以此时5个闭包输出都是4</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> whatever [<span class="number">5</span>]<span class="keyword">struct</span>&#123;&#125;</span><br><span class="line">   <span class="keyword">for</span> i := <span class="keyword">range</span> whatever &#123;</span><br><span class="line">      <span class="comment">// 此时5个闭包都引用的同一个i，故循环结束后i为4</span></span><br><span class="line">      <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">         fmt.Println(i)</span><br><span class="line">      &#125;()</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 输出： 4 4 4 4 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决：将i复制一份，再传给闭包</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> whatever [<span class="number">5</span>]<span class="keyword">struct</span>&#123;&#125;</span><br><span class="line">   <span class="keyword">for</span> i := <span class="keyword">range</span> whatever &#123;</span><br><span class="line">      temp := i</span><br><span class="line">      <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">         fmt.Println(temp)</span><br><span class="line">      &#125;()</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 输出： 4 3 2 1 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="结构体-1"><a href="#结构体-1" class="headerlink" title="结构体"></a>结构体</h1><h1 id="接口-1"><a href="#接口-1" class="headerlink" title="接口"></a>接口</h1><h1 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h1><h1 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h1><h1 id="defer和time"><a href="#defer和time" class="headerlink" title="defer和time"></a>defer和time</h1><h1 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h1><h1 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h1><h1 id="包"><a href="#包" class="headerlink" title="包"></a>包</h1><h1 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h1><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1></article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src="/img/first/my.jpg"></a><div class="post-copyright__author_name">逍遥码斋</div><div class="post-copyright__author_desc">码斋ing</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div><div class="post-reward" onclick="AddRewardMask()"><div class="reward-button" title="赞赏作者"><i class="solitude st-hand-heart-fill"></i>赞赏作者</div><div class="reward-main"><ul class="reward-all"><span class="reward-title">感谢您的赞赏。</span><ul class="reward-group"><li class="reward-item"><img class="post-qr-code-img nolazyload" src="/img/zhifubao.jpg" alt="支付宝" style="border-color: var(--efu-blue)"><div class="post-qr-code-desc">支付宝</div></li><li class="reward-item"><img class="post-qr-code-img nolazyload" src="/img/weixin.jpg" alt="微信" style="border-color: var(--efu-blue)"><div class="post-qr-code-desc">微信</div></li></ul><a class="reward-main-btn" href="/about"><div class="reward-text">赞赏名单</div><div class="reward-dec">因为有你们的支持，我才体会到写文章的价值。</div></a></ul></div></div><script>function RemoveRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    console.log("RemoveRewardMask")

    rewardMainElements.forEach(element => {
        element.style.display = "none";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "none";
    }
}

function AddRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    console.log("AddRewardMask")

    rewardMainElements.forEach(element => {
        element.style.display = "flex";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "flex";
    }
}</script></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>协议，完整转载请注明来自<a href="/">逍遥码斋</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Go/"><span class="tags-punctuation"></span>Go<span class="tagsPageCount">1</span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/09/C++/C++Base/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C++Base</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/10/C++/C-%E5%85%AB%E8%82%A1%E6%96%87/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">C++八股文</div></div></a></div></nav><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="solitude st-chat-fill"></i><span>评论</span><span></span></div></div><div class="comment-wrap"><div id="comment"></div><script>async function initComment() {
    const initValine = () => {
        const valine = new Valine(Object.assign({
            el: '#comment',
            appId: '538lgvVOGkxySYOQ95RVcOTL-gzGzoHsz',
            appKey: '59YMWbtxZDc7jcwmXLb14qUU',
            avatar: 'monsterid',
            serverURLs: 'https://538lgvvo.lc-cn-n1-shared.com',
            emojiMaps: "",
            path: window.location.pathname,
            visitor: true,
            ...{"placeholder":"欢迎各位评论"}
        }))

        if (GLOBAL_CONFIG.lightbox) {
            utils.lightbox(document.querySelectorAll('#comment .vcontent img:not(.vemoji)'));
        }

        sco.owoBig();
    }

    const loadValine = async () => {
        if (typeof Valine === 'function') initValine()
        else {
            await getScript('https://cdn.staticfile.net/valine/1.5.1/Valine.min.js')
            initValine()
        }
    }

    if (!true) {
        if (true) utils.loadComment(document.getElementById('comment'), loadValine)
        else setTimeout(loadValine, 0)
    } else {
        await loadValine()
    }
}</script></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="头像" src="/img/first/my.jpg"><div class="avatar-sticker"><img class="avatar-sticker-img" src="https://7.isyangs.cn/34/65f2e4e0423cc-34.png" alt="心情贴纸"></div></div><div class="author-info__description_group"><div class="author-info__description">分享自己对编程的<b>热爱</b>，对美好生活的<b>向往</b>，对知识海洋<b>探索历程</b>。</div><div class="author-info__description2">相信你可以在这里找到对你有用的知识和教程。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about/"><div class="author-info__name">masterliu</div><div class="author-info__desc">码斋ing</div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/572192274" title="Github"><i class="solitude  st-github-line"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://space.bilibili.com/400410886" title="Bilibili"><i class="solitude  st-bilibili-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude st-menu-line"></i><span>文章目录</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83"><span class="toc-text">安装环境</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-text">特性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Go%E5%9F%BA%E7%A1%80"><span class="toc-text">Go基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-text">声明定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-text">批量定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">全局变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-text">常量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%80%A7-1"><span class="toc-text">特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F"><span class="toc-text">定义常量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B"><span class="toc-text">整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%9E%8B"><span class="toc-text">浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-text">复数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B"><span class="toc-text">布尔类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B"><span class="toc-text">字符类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-text">指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map"><span class="toc-text">Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-text">接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#channel"><span class="toc-text">channel</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">数据类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="toc-text">基本类型相互转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2string"><span class="toc-text">基本类型转换string</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string%E8%BD%AC%E6%8D%A2%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="toc-text">string转换基本类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">算数运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5if"><span class="toc-text">条件语句if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5switch"><span class="toc-text">条件语句switch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5select"><span class="toc-text">条件语句select</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5for"><span class="toc-text">循环语句for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5range"><span class="toc-text">循环语句range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5goto%E3%80%81break%E3%80%81continue%E3%80%81return"><span class="toc-text">循环控制语句goto、break、continue、return</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-text">函数定义和使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">函数参数和返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#init%E5%87%BD%E6%95%B0"><span class="toc-text">init函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">递归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E8%B0%83%E7%94%A8defer"><span class="toc-text">延迟调用defer</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">接口</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91"><span class="toc-text">并发</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%94%99%E8%AF%AF"><span class="toc-text">错误</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#defer%E5%92%8Ctime"><span class="toc-text">defer和time</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IO"><span class="toc-text">IO</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-text">网络编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%85"><span class="toc-text">包</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Context"><span class="toc-text">Context</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-text">测试</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude st-map-line"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/09/C++/CMake%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="CMake"><img alt="CMake" src="/img/CMake/CMake.jpg"></a><div class="content"><a class="title" href="/2024/08/09/C++/CMake%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="CMake">CMake</a><a class="article-recent_post_categories" href="/2024/08/09/C++/CMake%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/">构建工具</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/01/C++/STL/" title="STL"><img alt="STL" src="/img/C++八股文/c++.jpg"></a><div class="content"><a class="title" href="/2024/06/01/C++/STL/" title="STL">STL</a><a class="article-recent_post_categories" href="/2024/06/01/C++/STL/">C++</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/09/C++/C++Base/" title="C++Base"><img alt="C++Base" src="/img/C++八股文/c++.jpg"></a><div class="content"><a class="title" href="/2024/05/09/C++/C++Base/" title="C++Base">C++Base</a><a class="article-recent_post_categories" href="/2024/05/09/C++/C++Base/">C++</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/20/Go/GoBase/" title="GoBase"><img alt="GoBase" src="/img/Go/go.webp"></a><div class="content"><a class="title" href="/2024/04/20/Go/GoBase/" title="GoBase">GoBase</a><a class="article-recent_post_categories" href="/2024/04/20/Go/GoBase/">Go</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/10/C++/C-%E5%85%AB%E8%82%A1%E6%96%87/" title="C++八股文"><img alt="C++八股文" src="/img/C++八股文/c++.jpg"></a><div class="content"><a class="title" href="/2024/04/10/C++/C-%E5%85%AB%E8%82%A1%E6%96%87/" title="C++八股文">C++八股文</a><a class="article-recent_post_categories" href="/2024/04/10/C++/C-%E5%85%AB%E8%82%A1%E6%96%87/">C++</a></div></div></div></div></div></div></main><footer id="footer"><div id="st-footer-bar"><div class="footer-logo"><span class="solitude">逍遥码斋</span></div><div class="footer-bar-description">来自逍遥码斋 - 码斋ing的文章</div><a class="footer-bar-link" href="/">了解更多</a></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/572192274" title="Github"><i class="solitude  st-github-line"></i></a><a class="deal_link" href="/572192274@qq.com" title="Mail"><i class="solitude  st-mail-line"></i></a><div class="nolazyload footer_mini_logo" id="footer_mini_logo" title="返回顶部" onclick="sco.toTop()"><img src= "/img/loading.gif" data-lazy-src="/img/first/my.jpg" alt="返回顶部"></div><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/400410886" title="Bilibili"><i class="solitude  st-bilibili-line"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.douyin.com/user/MS4wLjABAAAAE_LMLYq30fDdsoFzPaqj9fQld9ovK1dnD89b_mDcVvgVEqptdZnvkgnOlwFM4niN" title="抖音"><i class="solitude  st-douyin-fill"></i></a></div><div id="st-footer"><div class="footer-group"><h3 class="footer-title">导航</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="归档">归档</a><a class="footer-item" href="/categories/" title="分类">分类</a><a class="footer-item" href="/tags/" title="标签">标签</a></div></div><div class="footer-group"><h3 class="footer-title">支持</h3><div class="footer-links"><a class="footer-item" href="/about/" title="打赏记录">打赏记录</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">© 2024 By&nbsp;<a class="footer-bar-link" href="/">masterliu</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/572192274" title="主题">主题</a><a class="footer-bar-link cc" href="/null" aria-label="copyright"><i class="solitude st-copyright-line"></i><i class="solitude st-creative-commons-by-line"></i><i class="solitude st-creative-commons-nc-line"></i><i class="solitude st-creative-commons-nd-line"></i></a></div></div></div><div class="comment-barrage needEndHide"></div></footer></div><!-- right_menu--><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="solitude st-arrow-left-line"></i></div><div class="rightMenu-item" id="menu-forward"><i class="solitude st-arrow-right-line"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="solitude st-restart-line"></i></div><div class="rightMenu-item" id="menu-top"><i class="solitude st-arrow-up-line"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="solitude st-copy-fill"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="solitude st-clipboard-fill"></i><span>粘贴文本</span></div><div class="rightMenu-item" id="menu-commenttext"><i class="solitude st-chat-new-fill"></i><span>引用到评论</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="solitude st-window-fill"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="solitude st-link-line"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="solitude st-copy-fill"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="solitude st-download-cloud-fill"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-search"><i class="solitude st-search-line"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="solitude st-play-fill"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="solitude st-skip-back-fill"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="solitude st-skip-forward-fill"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="solitude st-copy-fill"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-randomPost" onclick="toRandomPost()||rm.hideRightMenu()"><i class="solitude st-signal-tower-fill"></i><span>随机短文</span></div><div class="rightMenu-item" onclick="pjax.loadUrl('/categories/')||rm.hideRightMenu()"><i class="solitude st-checkbox-multiple-blank-fill"></i><span>全部分类</span></div><div class="rightMenu-item" onclick="pjax.loadUrl('/tags/')||rm.hideRightMenu()"><i class="solitude st-price-tag-fill"></i><span>全部标签</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-commentBarrage" onclick="sco.switchCommentBarrage()"><i class="solitude st-chat-fill"></i><span class="menu-commentBarrage-text">显示热评</span></div><div class="rightMenu-item" id="menu-darkmode" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span class="menu-darkmode-text">浅色模式</span></div><div class="rightMenu-item" id="menu-translate"><i class="solitude st-panben-line"></i><span>轉為繁體</span></div></div></div><div id="rightmenu-mask"></div><!-- inject body--><div><script src="/js/main.js?v=1.7.12"></script><script src="/js/utils.js?v=1.7.12"></script><script src="/js/third_party/waterfall.min.js?v=1.7.12"></script><script src="https://cdn.staticfile.net/pjax/0.2.8/pjax.min.js"></script><!-- md5--><script src="https://cdn.staticfile.net/blueimp-md5/2.19.0/js/md5.min.js"></script><script src="https://cdn.staticfile.net/mermaid/10.8.0/mermaid.min.js"></script><script src="/js/third_party/universe.min.js?v=1.7.12"></script><script>dark()
</script><script src="/js/tw_cn.js?v=1.7.12"></script><script src="https://cdn.staticfile.net/KaTeX/0.16.9/contrib/copy-tex.min.js"><script>(() => {
    document.querySelectorAll('#article-container span.katex-display').forEach(item => {
        utils.wrap(item, 'div', {class: 'katex-wrap'})
    })
})();
</script></script><script src="https://cdn.staticfile.net/vanilla-lazyload/19.1.3/lazyload.iife.min.js"></script><script src="https://cdn.staticfile.net/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdn.staticfile.net/medium-zoom/1.1.0/medium-zoom.min.js"></script><script src="https://cdn.staticfile.net/fancyapps-ui/5.0.35/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.staticfile.net/Swiper/11.0.5/swiper-bundle.min.js"></script><script src="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.staticfile.net/meting/2.0.1/Meting.min.js"></script><script>const meting_api = 'https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r';
</script><script src="/js/commentBarrage/valine.js?v=1.7.12"></script><script src="/js/music.js?v=1.7.12"></script><script src="https://cdn.staticfile.net/pace/1.2.4/pace.min.js"></script><script src="/js/right_menu.js?v=1.7.12"></script></div><div id="js-pjax"><script>mermaid.run();</script><script async src="https://cdn.staticfile.net/busuanzi/2.3.0/bsz.pure.mini.min.js"></script><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: 'post',
    toc: true,
    comment: true,
}
</script></div><!-- newest comment--><script>window.addEventListener('load', () => {
    const changeContent = (content) => {
        if (content === '') return content;

        const replacements = [
            {regex: /<img.*?src="(.*?)"?[^\>]+>/ig, replacement: '[Image]'},
            {regex: /<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, replacement: '[URL]'},
            {regex: /```[\s\S]*?```/g, replacement: '[Code]'},
            {regex: /<[^>]+>/g, replacement: ""}
        ];

        content = replacements.reduce((str, {regex, replacement}) => str.replace(regex, replacement), content);

        return content.length > 150 ? content.substring(0, 150) + '...' : content;
    }

    const $asideList = document.querySelector('#card-newest-comments .aside-list')
    const newestCommentInit = () => {
        const data = saveToLocal.get('valine-newest-comment')
        if (data) {
            generateHtml(JSON.parse(data))
        } else {
            getComment()
        }
    }

    const getComment = async () => {
        try {
            const settings = {
                "method": "GET",
                "headers": {
                    "X-LC-Id": '538lgvVOGkxySYOQ95RVcOTL-gzGzoHsz',
                    "X-LC-Key": '59YMWbtxZDc7jcwmXLb14qUU',
                    "Content-Type": "application/json"
                },
            }

            const res = await fetch('https://538lgvvo.lc-cn-n1-shared.com/1.1/classes/Comment?limit=8&order=-createdAt', settings)
            const result = await res.json()
            window.res = result
            const valineArray = result.results.map(e => {
                return {
                    'content': changeContent(e.comment),
                    'avatar': 'https://cravatar.cn' + '/avatar/' + md5(e.mail.toLowerCase()),
                    'nick': e.nick,
                    'url': e.url + '#' + e.objectId,
                    'date': e.updatedAt || e.createdAt
                }
            })
            saveToLocal.set('valine-newest-comment', JSON.stringify(valineArray), 421000 / (60 * 24))
            generateHtml(valineArray)
        } catch (err) {
            console.error(err)
            $asideList.textContent = "无法获取评论，请确认相关配置是否正确。"
        }
    }

    const generateHtml = array => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML = array.length ? array.map(item => `
                    <div class='aside-list-item'>
                      <a onclick='pjax.loadUrl("${item.url}")' class='thumbnail'>
                        <img src= "/img/loading.gif" data-lazy-src='${item.avatar}' alt='${item.nick}'>
                        <div class='name'><span>${item.nick}</span></div>
                      </a>
                      <div class='content'>
                        <a class='comment' onclick='pjax.loadUrl("${item.url}")'>${item.content}</a>
                        <time class="datetime" datetime="${item.date}"></time>
                      </div>
                    </div>
                  `).join('') : "没有评论"
        window.lazyLoadInstance && window.lazyLoadInstance.update()
        window.pjax && window.pjax.refresh()
        sco && sco.changeTimeFormat(document.querySelectorAll('.aside-list-item time'))
    }

    newestCommentInit()
})</script><!-- pjax--><script>let pjaxSelectors = [
    'title',
    '#body-wrap',
    '#site-config',
    'meta[name="description"]',
    '#js-pjax',
    'meta[property^="og:"]',
]

const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()
})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- theme--><script>initTheme = () => {
    const cachedMode = saveToLocal.get('theme');
    if (cachedMode === undefined)
        document.documentElement.setAttribute('data-theme', 'dark');
    else
        document.documentElement.setAttribute('data-theme', cachedMode);
}
initTheme()</script><!-- google adsense--><!-- search--><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="solitude st-close-fill"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="输入关键词快速查找"></div><div id="search-results"><div id="search-hits"><a class="tag-list" href="javascript:void(0);" onclick="pjax.loadUrl('/tags/C++/')">C++</a></div></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/search/local.js?v=1.7.12"></script><!-- music--><div class="needEndHide" id="nav-music" onclick="sco.musicToggle()"><div id="nav-music-hoverTips">音乐已暂停</div><meting-js id="2064377052" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" theme="var(--efu-main)"></meting-js></div></body></html><script>const posts=["2024/08/09/C++/CMake简单使用/","2024/06/01/C++/STL/","2024/05/09/C++/C++Base/","2024/04/20/Go/GoBase/","2024/04/10/C++/C-八股文/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); }</script>